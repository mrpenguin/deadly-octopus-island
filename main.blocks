<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable type="BLOCKLY_TILESET_TYPE" id="kdM1Einq1#slwLl*p4X$">0;16;16;0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</variable><variable type="BLOCKLY_TILESET_TYPE" id="%ENKbA@o;PlI4E4P4V^:">2;8;8;bbbbbbbbeebebbbbbbbbbbbbbbbbebeebbbbbbbbbbeeeebebbbbbbbbebbebbbe</variable><variable type="BLOCKLY_TILESET_TYPE" id="%tPejmGM)E?na3ZAe3fF">3;8;8;eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888</variable><variable type="BLOCKLY_TILESET_TYPE" id="W6F@jPq,eP/bV_Z#rFoy">4;8;8;7777777777777777777777777777777777777777777777777777777777777777</variable><variable type="BLOCKLY_TILESET_TYPE" id="A]d]:N!zPB@,{0kO6V(^">5;8;8;8888d8be8888d8be8888d8be8888d8be8888d8be8888d8be8888d8be8888d8be</variable><variable type="BLOCKLY_TILESET_TYPE" id="qe-WBK;^F:A)D?9wU9Z=">6;8;8;5755557575777757757777577577775775777757757777577577775757555575</variable><variable type="BLOCKLY_TILESET_TYPE" id="4ldRKrVm|3?Tf2Wd}nae">7;8;8;bbbbbbbbeeeeeeeedddddddd8888888888888888888888888888888888888888</variable><variable type="BLOCKLY_TILESET_TYPE" id="=rTuYZ(8}BBVeO/#a7[K">8;8;8;8888888888888888888888888888888888888888ddddddddeeeeeeeebbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="t^RrFx-|U9GxR~FYJPGV">9;8;8;eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888ebddddddebeeeeeebbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="k;v{h!nLqtBd8esiDR]P">10;8;8;bbbbbbbbeeeeeebeddddddbe8888d8be8888d8be8888d8be8888d8be8888d8be</variable><variable type="BLOCKLY_TILESET_TYPE" id="0NmpKg46NsNyGh:_*c*#">11;8;8;8888d8be8888d8be8888d8be8888d8be8888d8beddddddbeeeeeeebebbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="%XMY0WJdu)xYEsB;P#/k">12;8;8;bbbbbbbbebeeeeeeebddddddeb8d8888eb8d8888eb8d8888eb8d8888eb8d8888</variable><variable type="BLOCKLY_TILESET_TYPE" id="HIg0p8IpXwbEN7AYYM=2">13;8;8;8888d8be8888d8ee8888d8dd8888888888888888888888888888888888888888</variable><variable type="BLOCKLY_TILESET_TYPE" id="M^i}_R:@!Zq!.eqbHm15">14;8;8;eb8d8888ee8d8888dd8d88888888888888888888888888888888888888888888</variable><variable type="BLOCKLY_TILESET_TYPE" id="0p]F5ho^luzDAAQ|v1P{">15;8;8;8888888888888888888888888888888888888888dd8d8888ee8d8888eb8d8888</variable><variable type="BLOCKLY_TILESET_TYPE" id="9uwr~+,8|7/R.xH@!kaQ">16;8;8;88888888888888888888888888888888888888888888d8dd8888d8ee8888d8be</variable><variable type="BLOCKLY_TILESET_TYPE" id="=PWsuHZKO8qwa:$`,UiM">17;8;8;bbbbbbbbbb33b3bbbbb33bbbbbb33bbbbb33b3bbbbb3bbbbbbb3bbbbbbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="M]/)[w`,{!e}-Y#$k:O?">18;8;8;bdbbbbdbdbbbbbbdbbbddbbbbbdbbdbbbbdbbdbbbbbddbbbdbbbbbbdbdbbbbdb</variable><variable type="BLOCKLY_TILESET_TYPE" id="n0P01NN`oos.WsM/Zq`H">19;8;8;bbbbbbbbbb22b2bb2bbb2bbb2bbbbbbbbb22b2bbbbbb2bbb2bbb2bbbbb22b2bb</variable><variable type="BLOCKLY_TILESET_TYPE" id="bin1Eex=[0aB[`)76I]b">20;8;8;4444444444444444555555554444444444444444555555554444444444444444</variable><variable type="BLOCKLY_TILESET_TYPE" id="jnf4]p~VzB?oWA8|u6$7">21;8;8;4445544444455444444554444445544444455444444554444445544444455444</variable><variable type="BLOCKLY_TILESET_TYPE" id="HIEU49rM-$1U}*_Z~RfH">22;8;8;bb5bb5bb5b5bb5b5bb5bbbbb55bb5b5555b5bb55bbbbb5bb5b5bb5b5bb5bb5bb</variable><variable id="{Jf%dI7)4KDOT+X-4HMI">playerInWater</variable><variable id="3d[lj,nT0il+JUW([s(q">sharkTargetWaypoint</variable><variable id="}k({qtz~9qkKep=0$)iu">sharkSeekPath</variable><variable id="j]4h%azVrn_?:[XOTGJ`">HIT_BUFFER</variable><variable id="{8dUxKj~uDsiKvx4]]CZ">TILE_SIZE</variable><variable id=":QvOIWj5eZh2{qzd8oyt">PLAYER_MOVE_SPEED</variable><variable id="vlSdiOmFOu}?|=^{(,[_">mySprite</variable><variable id="cwS)?!Y47rTd$dj)sFOP">octopus</variable><variable id="$,YFXM4VfU[#3wjcd}qd">shark</variable><variable id="lwNT5;0:4pEv}}@1X1bR">coin</variable><variable id=".[Gb@KiqLc+Aa[f,GOZT">coinTiles</variable><variable id="9:60:sb-;yLbco@ryiP[">waypointTiles</variable><variable id="1`$)=`T`!O$b64}tX-7~">playerSpawnTile</variable><variable id="9ho-g?+(6TCzDnK+heC6">octopusSpawnTile</variable><variable id="j^L4_@+XHp+Je^Sn@):g">sharkSpawnTile</variable><variable type="KIND_SpriteKind" id="NkI^YKVFK:BGV,B[qJK_">Player</variable><variable type="KIND_SpriteKind" id="lo}VD%=sNOCroB_3BO}B">Projectile</variable><variable type="KIND_SpriteKind" id="J*^jPBun;e5XI=V5.xup">Food</variable><variable type="KIND_SpriteKind" id="C^$j_mI.xy:Q%6y^!ES{">Enemy</variable></variables><block type="pxt-on-start" id="T1O++jUs=R.rogHv9yjn" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="ST22{f}}So`a3_ePDB;!"><field name="VAR" id="3d[lj,nT0il+JUW([s(q">sharkTargetWaypoint</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="dykNV-022u.9}(Oj_hJm" editable="false"><field name="EXPRESSION">null</field></block></value><next><block type="typescript_statement" id=")[y@1(Vv?cDD-j?i}^fL" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let playerInWater:boolean = false" numlines="1" declaredvars="playerInWater"></mutation><next><block type="variables_set" id="vU74=NcrMs4d[9LYhU-,"><field name="VAR" id="}k({qtz~9qkKep=0$)iu">sharkSeekPath</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="*p-D!/StYF[qL!aW5]KW"><mutation items="0"/></block></value><next><block type="typescript_statement" id="D!*Q^+f$#@]=%k)eSGXb" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let waypoints: Array&lt;HelperClasses.Waypoint&gt; = []" numlines="1" declaredvars="waypoints"></mutation><next><block type="variables_set" id="3AvAW8rs?CsU;i.78V$n"><field name="VAR" id="j]4h%azVrn_?:[XOTGJ`">HIT_BUFFER</field><value name="VALUE"><shadow type="math_number" id="F)ZBac6k!QyH7]GIhk]D"><field name="NUM">4</field></shadow></value><next><block type="variables_set" id="IOny{HmCz#s#1Tr8V_Fj"><field name="VAR" id="{8dUxKj~uDsiKvx4]]CZ">TILE_SIZE</field><value name="VALUE"><shadow type="math_number" id="G~A:Jis7Xy9XSc`bb9m4"><field name="NUM">8</field></shadow></value><next><block type="variables_set" id="TJoo_r,nD.,V%3=o+a5m"><field name="VAR" id=":QvOIWj5eZh2{qzd8oyt">PLAYER_MOVE_SPEED</field><value name="VALUE"><shadow type="math_number" id="G}o2{@*(+V_!N^`MlGh8"><field name="NUM">40</field></shadow></value><next><block type="typescript_statement" id="*N7yiWSLMqF[xK*jkB(C" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let playerPosition: HelperClasses.Point = new HelperClasses.Point(0, 0)" numlines="1" declaredvars="playerPosition"></mutation><next><block type="typescript_statement" id="Q*_-4Ye=BUBQV53!h:IS" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let octopusPosition: HelperClasses.Point = new HelperClasses.Point(0, 0)" numlines="1" declaredvars="octopusPosition"></mutation><next><block type="typescript_statement" id="^6o1I2:=R!R?cmH.K-#x" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let sharkPosition: HelperClasses.Point = new HelperClasses.Point(0, 0)" numlines="1" declaredvars="sharkPosition"></mutation><next><block type="variables_set" id="S$~%$v^bQK)XJu,a@MVU"><field name="VAR" id="vlSdiOmFOu}?|=^{(,[_">mySprite</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="R6?xyySps[DLzSh?flcw"><value name="img"><shadow type="screen_image_picker" id="1w%z/dd*U}$0~OZ[=e2u"><field name="img">img`
. . . . . . . . 
. . . 1 1 . . . 
. . 1 1 1 1 . . 
3 4 1 1 1 1 4 3 
3 4 4 1 1 4 4 3 
. . 4 1 1 4 . . 
. . 1 1 1 1 . . 
. . . . . . . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="H4q$k/h*T*if?7+,3IX_"><field name="MEMBER">Player</field></shadow></value></block></value><next><block type="variables_set" id="H+{WQ#q((xr]2N!f$Dn4"><field name="VAR" id="cwS)?!Y47rTd$dj)sFOP">octopus</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="]$qXgedu=UQdUo{Tn~RC"><value name="img"><shadow type="screen_image_picker" id="K[T+Oy-DRK|QR]5z/%:="><field name="img">img`
. a d d d . . . . . . . a d d d d d . . . . . . . . a a d d . . 
a d d . . . . . . . . a d d d d d d d d . . . . . a d d d d d . 
a d . . . . . . . . a d d 1 . . . . . d d . . . . a d . . . d d 
a d . . . . . . . . a d 1 . . . . . . . . . . . a d 1 . . . d d 
a d . . . . . . . . a d 1 . . . . . . . . . . a d d 1 . . . . d 
a d 1 . . . . . . . a d d d . . . . . . . . a d d d 1 . . . . . 
a d d 1 . . . . . . a d d a a a a a d d . . a d d d . . . . . . 
. a d d 1 . . . . . . a a d d d d d d d d d d d 1 . . . . . . . 
. . a d d d d d d . a d d d d d a d d d d d d d 1 . . . . . . . 
. . . a a d d d d a d d d a d d d d d d a d d d . . . . . . . . 
. . . . . a d d d a d d d d d d d d d d d d d d . . . . . a d . 
. . . . . . a a a d d d d d d d d a d d d d d d d . a a a d d d 
. . . . . . . . a d d a d d d d d d d d d d a d d a d d d d d d 
. . . . . . . . d d d d d d d d d d d d d d d d d d d 1 1 . d d 
. . . . . . . . d d d d d d d 1 1 1 d d d d d d d d d . . . d d 
. . . . . . . . d d d d d d 1 a a a 1 d d d d d d . . . . . . d 
. . . . . . . a d d d d d d 1 a d a 1 d d d d d 1 . . . . d d d 
. . . . . . a d d d d d d d 1 a d a 1 d d d d d 1 . . . . d d . 
. . . . a a d d d d d d d d 1 a a a 1 d d d d 1 d . . . . d . . 
. . a a d d d d d d d d d d d 1 1 1 d d d d d 1 d d 1 . . . . . 
. a d d d d d 1 1 1 d d d d d d d d d d d d d d d d 1 . . . . . 
a d d d d . . . . . a a d d d d d d d d 1 1 . d d d d 1 . . . . 
a d d d . . . . . a d d d d d d d 1 1 1 d 1 . . . d d d 1 . . . 
a d d . . . . . . a d d d d . . . d d d d 1 . . . a d d 1 . . . 
a d d . . . . . . a d d . . . . . . a d d 1 . . . . . d d 1 . . 
a d d . . . . . . a d d . . . . . . . a d d 1 . . . . d d 1 . . 
a d d . . . . . a d d . . . . . . . . . a d 1 . . . . a d d 1 . 
d d . . . . . . a d d . . . . . . . . . a d d . . . . . d d d . 
d d . . . . . . a d d . . . . . . . . . . d d d . . . . . d d d 
d d . . . . . . a d d . . . . . . . . d . . d d . . . . . . a d 
d d d . . . . . . a d . . . . . . . . d d d d d . . . . . . d d 
. d d . . . . . . . d d d . . . . . . . d d d . . . . . . d . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="v^+EI9c1zbk.mC#H}u#["><field name="MEMBER">Enemy</field></shadow></value></block></value><next><block type="variables_set" id="C~1ngp*U2cIS[.KU%0CF"><field name="VAR" id="$,YFXM4VfU[#3wjcd}qd">shark</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="H``F_IUk+TC=hVStAn*h"><value name="img"><shadow type="screen_image_picker" id="H1QJxJ|6Ue9M2Z.I;LI$"><field name="img">img`
. . . . 8 d d . 
. . . 8 d d . . 
. . 8 d 1 . . . 
. 8 d d 1 . . . 
. 8 d d d 1 . . 
. d d d d d 1 . 
7 d d d d d d 7 
. 7 7 7 7 7 7 . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="32sI;cHwr1,~GeWG3#KU"><field name="MEMBER">Enemy</field></shadow></value></block></value><next><block type="variables_set" id="{*DCMDXec8y%(99v:[zl"><field name="VAR" id="lwNT5;0:4pEv}}@1X1bR">coin</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="G5ez4,Kc|cYUqvdlCnWO"><value name="img"><shadow type="screen_image_picker" id="vBv$KVCS:fy=PB-]VuF7"><field name="img">img`
. . 4 4 4 4 . . 
. 4 5 5 5 5 4 . 
4 5 5 4 5 5 5 4 
4 5 5 4 5 5 5 4 
4 5 5 4 5 5 5 4 
4 5 5 4 5 5 5 4 
. 4 5 5 5 5 4 . 
. . 4 4 4 4 . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="78NO^}iM*-;!Tp42j0zJ"><field name="MEMBER">Food</field></shadow></value></block></value><next><block type="game_control_sprite" id=")j+v-ru_ooWBTnNmV-wc"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="sprite"><shadow type="variables_get" id="5HuKG[7V1~=mi~Dm~8*+"><field name="VAR" id="vlSdiOmFOu}?|=^{(,[_">mySprite</field></shadow></value><next><block type="camerafollow" id="U[X;iGw_o8ncn`E[8g+Y"><value name="sprite"><shadow type="variables_get" id="mH3KY:?ed/=*:6GQ-zmj"><field name="VAR" id="vlSdiOmFOu}?|=^{(,[_">mySprite</field></shadow></value><next><block type="tilemap_editor" id="l?v87VE8glm!Ws}zm;2q"><field name="tilemap">tiles.createTilemap(
            hex`2000200001010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010110010101010101010101010101010101010101010101010101110101010101010101010101010101010101010101010101010101010101010101010101010101010115010101010101010101010101010101010101150101010101010101010101010101011313010101010101010101010101010101010101010101010101010101010102030303030303030303030303030314010101010101010101010101010101010203030303030303030303030303031401010101010101010101010101010101020503040101010101010101010101010101010101010101010101010101120102030304011501010101010101010101011501010101010101010101010101010203050401010101010101010101010101010101010101010101010101010101020303040101010101010101010101010101010101010101010101010101010102050304010101010101010101010101010101010101010101010101010101010203030401010101010101010101010101010101010101010101010101010101020305040101010101010101010101010101010101010101010101010101010102030304010101010101010101010101010101010101010101010101010101010205030401010101010101010101010101010101010101010101010101010101020303040101010101010101010101010101010101010101010101010101010102030504010101010101010101010101010101010101010101010101010101010203030401010101010101010101010101010101010101010101010101010101020503040101010101010101010101010101010101010101010101010101010101131301010101010101010101010101010101010101010101010101010115010101010101150101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101`,
            img`
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
`,
            [myTiles.tile0,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,myTiles.tile8,myTiles.tile9,myTiles.tile10,myTiles.tile11,myTiles.tile12,myTiles.tile13,myTiles.tile14,myTiles.tile15,myTiles.tile16,myTiles.tile17,myTiles.tile18,myTiles.tile19,myTiles.tile20,myTiles.tile21,myTiles.tile22],
            TileScale.Eight
        )</field><next><block type="variables_set" id="5GzjI6DQ|(dJROC-p[LG"><field name="VAR" id=".[Gb@KiqLc+Aa[f,GOZT">coinTiles</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="mapgettilestype" id="5yJ+1VPh!BlJuCelHj{t"><value name="tile"><shadow type="tileset_tile_picker" id="AlZ?9^Y!jK.+sX[[xy#O"><field name="tile">myTiles.tile6</field></shadow></value></block></value><next><block type="typescript_statement" id=":FfvablPzsJ2fZcsVyp*" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="coinTiles.forEach(function (value: tiles.Location, index: number) {" line1="    let newCoin = sprites.create(coin.image, SpriteKind.Food)" line2="    tiles.placeOnTile(newCoin, value)" line3="    tiles.setTileAt(value, myTiles.tile4);" line4="})" numlines="5"></mutation><next><block type="variables_set" id="9~i{!,EKZvm/;!pmMf}`"><field name="VAR" id="9:60:sb-;yLbco@ryiP[">waypointTiles</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="mapgettilestype" id="-KNXCK=7|uzDMs,de:r~"><value name="tile"><shadow type="tileset_tile_picker" id="9Xx]3^hEOB%GU_/_vvu}"><field name="tile">myTiles.tile22</field></shadow></value></block></value><next><block type="typescript_statement" id="^[uO=lIJ^{kfPATBq^bk" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="waypointTiles.forEach(function (value: tiles.Location, index: number) {" line1="    tiles.setTileAt(value, myTiles.tile2)" line2="    waypoints.push(new HelperClasses.Waypoint(new HelperClasses.Point(value.x, value.y)))" line3="})" numlines="4"></mutation><next><block type="typescript_statement" id="|rFxmphBwl5[=0(pU=uE" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="waypoints = Pathfinding.connectWaypoints(waypoints)" numlines="1"></mutation><next><block type="variables_set" id="T8S1~%`m@N^g@r2(fysx"><field name="VAR" id="1`$)=`T`!O$b64}tX-7~">playerSpawnTile</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="n@Uzi]@:TK~d?Zk/L%!{"><value name="LIST"><block type="mapgettilestype" id="zfR~G0b~gx;QOT%ldnNM"><value name="tile"><shadow type="tileset_tile_picker" id="G9!CRW//I6K*8l}Di|!o"><field name="tile">myTiles.tile17</field></shadow></value></block></value><value name="INDEX"><shadow type="math_number" id="2Jll2C@]|#enAvpA?_zW"><field name="NUM">0</field></shadow></value></block></value><next><block type="Sprite_blockCombine_set" id="}BHD,F;B9=]%.]n_F=0L"><field name="property">Sprite.x@set</field><value name="mySprite"><block type="variables_get" id="k=AQJk;(86|E2;jfhhaV"><field name="VAR" id="vlSdiOmFOu}?|=^{(,[_">mySprite</field></block></value><value name="value"><block type="typescript_expression" id="xc1q_Q!+Bjh2:=NDU%#]" editable="false"><field name="EXPRESSION">playerPosition.x = playerSpawnTile.x</field></block></value><next><block type="Sprite_blockCombine_set" id="NuXQO,#}Qq7.8YH,Otn,"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get" id="9K-7bNA[bof5W,lAZG}h"><field name="VAR" id="vlSdiOmFOu}?|=^{(,[_">mySprite</field></block></value><value name="value"><block type="typescript_expression" id="X@E1swb;a%v5xl1`b123" editable="false"><field name="EXPRESSION">playerPosition.y = playerSpawnTile.y</field></block></value><next><block type="mapsettileat" id="jr|X(qGLZ@ZUQeX!37IJ"><value name="tile"><shadow type="tileset_tile_picker" id="d81nyg4OcnAC6ZeMKI{:"><field name="tile">myTiles.tile2</field></shadow></value><value name="loc"><shadow type="mapgettile"/><block type="variables_get" id="W]#DphV,F87mU0r5$R9p"><field name="VAR" id="1`$)=`T`!O$b64}tX-7~">playerSpawnTile</field></block></value><next><block type="variables_set" id="d7weZ/dg~;xh0-=|fv$c"><field name="VAR" id="9ho-g?+(6TCzDnK+heC6">octopusSpawnTile</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="^QG`4*DM~VAV`l_%]*%`"><value name="LIST"><block type="mapgettilestype" id="8iP},d|sz(GqV_PrYx!9"><value name="tile"><shadow type="tileset_tile_picker" id="^jB|*r]dM=G2Iaq5t-XK"><field name="tile">myTiles.tile18</field></shadow></value></block></value><value name="INDEX"><shadow type="math_number" id="!6.w/o|h8e5tq6kf)b$@"><field name="NUM">0</field></shadow></value></block></value><next><block type="Sprite_blockCombine_set" id="S9e*.Zj,9|R8B~+mup0h"><field name="property">Sprite.x@set</field><value name="mySprite"><block type="variables_get" id="=YZVmCI?e;rNJt0c)#MP"><field name="VAR" id="cwS)?!Y47rTd$dj)sFOP">octopus</field></block></value><value name="value"><block type="typescript_expression" id="kI*:)~g=AcD55U[;7`,W" editable="false"><field name="EXPRESSION">octopusPosition.x = octopusSpawnTile.x</field></block></value><next><block type="Sprite_blockCombine_set" id="ZMEV1G:0%LtfG_A;B8u("><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get" id="mhPj3/W%6ee--G,o+kEg"><field name="VAR" id="cwS)?!Y47rTd$dj)sFOP">octopus</field></block></value><value name="value"><block type="typescript_expression" id="G;2{*iC}l6*`IS+[=wAs" editable="false"><field name="EXPRESSION">octopusPosition.y = octopusSpawnTile.y</field></block></value><next><block type="mapsettileat" id="CgH6p.Y#%Jn=Kx%ib6^h"><value name="tile"><shadow type="tileset_tile_picker" id="?+%3SBG6@fWeJb9sY+JS"><field name="tile">myTiles.tile2</field></shadow></value><value name="loc"><shadow type="mapgettile"/><block type="variables_get" id="FQl#Wn|RYpjYdOBwc5`c"><field name="VAR" id="9ho-g?+(6TCzDnK+heC6">octopusSpawnTile</field></block></value><next><block type="variables_set" id="k;!/,hb(f(~tBn+:As20"><field name="VAR" id="j^L4_@+XHp+Je^Sn@):g">sharkSpawnTile</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="N#;K^2|lytb1cyT3+-K;"><value name="LIST"><block type="mapgettilestype" id="A*rp{_Rq:iWfUQUL*]F_"><value name="tile"><shadow type="tileset_tile_picker" id="b6fnK4QYG(d/F|nUh;A6"><field name="tile">myTiles.tile19</field></shadow></value></block></value><value name="INDEX"><shadow type="math_number" id="Cq{NupA}v8x?VxGam%_z"><field name="NUM">0</field></shadow></value></block></value><next><block type="Sprite_blockCombine_set" id="iKN[O5X#e^[L`^U]2k._"><field name="property">Sprite.x@set</field><value name="mySprite"><block type="variables_get" id="vv64jg?;4qooLcUjVHZ["><field name="VAR" id="$,YFXM4VfU[#3wjcd}qd">shark</field></block></value><value name="value"><block type="typescript_expression" id="Ymih2nr.0d(.vPXy`TW$" editable="false"><field name="EXPRESSION">sharkPosition.x = sharkSpawnTile.x</field></block></value><next><block type="Sprite_blockCombine_set" id="!.mG{ueSF9^)n_~S3Y1S"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get" id="(}OorJ56-:eS/V9(Urzi"><field name="VAR" id="$,YFXM4VfU[#3wjcd}qd">shark</field></block></value><value name="value"><block type="typescript_expression" id="1j:mQ$Z,Nk~xur_~EyZ)" editable="false"><field name="EXPRESSION">sharkPosition.y = sharkSpawnTile.y</field></block></value><next><block type="mapsettileat" id="k.|^%Q(;PxKe}iKkE;qZ"><value name="tile"><shadow type="tileset_tile_picker" id="Ec@mxS3$3CjlX,(F?3pL"><field name="tile">myTiles.tile2</field></shadow></value><value name="loc"><shadow type="mapgettile"/><block type="variables_get" id="*a(~*9GCYOF?W;aOyV^O"><field name="VAR" id="j^L4_@+XHp+Je^Sn@):g">sharkSpawnTile</field></block></value><next><block type="typescript_statement" id="{7wvc7!bqN!@|5a(6;sZ" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let sharkTargetTile = new HelperClasses.Point()" numlines="1" declaredvars="sharkTargetTile"></mutation><next><block type="typescript_statement" id="xdquYCt.=E_75=,xgqo)" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function positionToTile(position: number, tileSize: number): number {" line1="    return Math.floor(position / tileSize);" line2="}" numlines="3"></mutation><next><block type="typescript_statement" id="4%!2K:%Y{`_@%PD}G.q+" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function isWaterTile(tileImage: Image): boolean {" line1="    if (tileImage == myTiles.tile2 ||" line2="        tileImage == myTiles.tile3 ||" line3="        tileImage == myTiles.tile5 ||" line4="        tileImage == myTiles.tile7 ||" line5="        tileImage == myTiles.tile8 ||" line6="        tileImage == myTiles.tile9 ||" line7="        tileImage == myTiles.tile10 ||" line8="        tileImage == myTiles.tile11 ||" line9="        tileImage == myTiles.tile12 ||" line10="        tileImage == myTiles.tile13 ||" line11="        tileImage == myTiles.tile14 ||" line12="        tileImage == myTiles.tile15 ||" line13="        tileImage == myTiles.tile16) {" line14="        return true" line15="    }" line16="    return false" line17="}" numlines="18"></mutation><next><block type="typescript_statement" id="qJ+Bt9qrV5p.,okhb?hl" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function isLandTile(tileImage: Image): boolean {" line1="    if (tileImage == myTiles.tile4) {" line2="        return true" line3="    }" line4="    return false" line5="}" numlines="6"></mutation><next><block type="typescript_statement" id="L.]^M1](WjSWIemX}dC7" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function checkLandBoundsCollision(character: Sprite, lastPosition: HelperClasses.Point): HelperClasses.Point {" line1="    let newTile: Image = tiles.getTileAt(positionToTile(character.x, TILE_SIZE), positionToTile(character.y, TILE_SIZE))" line2="    if (lastPosition.tile == null) {" line3="        lastPosition.tile = newTile" line4="    }" line5="" line6="    if (isLandTile(newTile) &amp;&amp; isWaterTile(lastPosition.tile) ||" line7="        isWaterTile(newTile) &amp;&amp; isLandTile(lastPosition.tile)) {" line8="        //todo: determine whether it's a horizontal or vertical collision and limit movement" line9="        //also need to check whether the other position change results in a tile collision, like in a corner" line10="        character.x = lastPosition.x" line11="        character.y = lastPosition.y" line12="        return lastPosition;" line13="    }" line14="    lastPosition.x = character.x" line15="    lastPosition.y = character.y" line16="    lastPosition.tile = newTile" line17="    return lastPosition" line18="}" numlines="19"></mutation><next><block type="typescript_statement" id="JaZvT.z)qa`IafKe8][2" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function findOctopusMovePosition(octopusPosition: HelperClasses.Point, playerPosition: HelperClasses.Point, buffer: number): HelperClasses.Point {" line1="    let moveLeft: boolean = playerPosition.x &lt; octopusPosition.x - buffer" line2="    let moveRight: boolean = playerPosition.x &gt; octopusPosition.x + buffer" line3="    let moveUp: boolean = playerPosition.y &lt; octopusPosition.y - buffer" line4="    let moveDown: boolean = playerPosition.y &gt; octopusPosition.y + buffer" line5="    let moveRate: number = .4" line6="" line7="    if (moveLeft) {" line8="        octopusPosition.x -= moveRate" line9="    } else if (moveRight) {" line10="        octopusPosition.x += moveRate" line11="    }" line12="    if (moveUp) {" line13="        octopusPosition.y -= moveRate" line14="    } else if (moveDown) {" line15="        octopusPosition.y += moveRate" line16="    }" line17="    return octopusPosition" line18="}" numlines="19"></mutation><next><block type="typescript_statement" id="0OF2^IK*J$I-WkEDqm=l" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function findSharkMovePosition(sharkPosition: HelperClasses.Point, seekPath: Array&lt;HelperClasses.PathPosition&gt;): HelperClasses.Point {" line1="" line2="    //need to keep track of tile position of player and only recalculate if the player has changed tiles" line3="" line4="    return sharkPosition" line5="}" numlines="6"></mutation><next><block type="typescript_statement" id="Y4qbaRRgvX3ULu8BgPl=" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function findSharkTargetTile(playerPosition: HelperClasses.Point): HelperClasses.Point {" line1="    let resultGridSpot = new HelperClasses.Point()" line2="    if (isWaterTile(playerPosition.tile)) {" line3="        resultGridSpot.y = playerPosition.y" line4="        resultGridSpot.x = playerPosition.x" line5="        return resultGridSpot" line6="    }" line7="    //todo: implement roaming" line8="" line9="    return resultGridSpot" line10="}" numlines="11"></mutation><next><block type="typescript_statement" id="6|`cA!QsuT8[N/nljM8|" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function moveGameSprite(position: HelperClasses.Point, sprite: Sprite): void {" line1="    sprite.x = Math.floor(position.x)" line2="    sprite.y = Math.floor(position.y)" line3="}" numlines="4"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="spritesoverlap" id="0]kT_KDT(dKb~6..W.%m" x="460" y="100"><value name="HANDLER_DRAG_PARAM_sprite"><shadow type="argument_reporter_custom" id="+w!l,pYW,x7sxJZE@cn#"><mutation typename="Sprite"/><field name="VALUE">sprite</field></shadow></value><value name="kind"><shadow type="spritekind" id="Djc+L^OKgIVmC~SU8-1!"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><shadow type="argument_reporter_custom" id="b@19FPeF}EP}1p;-U@OQ"><mutation typename="Sprite"/><field name="VALUE">otherSprite</field></shadow></value><value name="otherKind"><shadow type="spritekind" id="W|N~ki6d.frxu43+WtC7"><field name="MEMBER">Food</field></shadow></value><statement name="HANDLER"><block type="hudsetScore" id="xDGwj~]?jUA!tww.u%h}"><value name="value"><block type="math_arithmetic" id="zSU$$8S[S=YuGSvwT6[N"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="hudScore" id=";7[y1TX$HEiRFb911hn1"/></value><value name="B"><shadow type="math_number" id="/Y=Itu6;U;!2qFv7qs@O"><field name="NUM">1</field></shadow></value></block></value><next><block type="spritedestroy" id="9MHjzS_/ymvpQ8xk!M^u"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="sprite"><block type="argument_reporter_custom" id="n9L(A+!1*YNF~W]w2E~{"><mutation typename="Sprite"/><field name="VALUE">otherSprite</field></block></value></block></next></block></statement></block><block type="gameupdate" id="Gm/+h}V;{RAimrw:~:lf" x="600" y="380"><statement name="HANDLER"><block type="typescript_statement" id=",jSdc$1T/:eC^kqg-xy|" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="playerPosition = checkLandBoundsCollision(mySprite, playerPosition)" numlines="1"></mutation><next><block type="typescript_statement" id="gV0IKYAVtatP.eov|;4u" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="playerInWater = isWaterTile(playerPosition.tile)" numlines="1"></mutation><next><block type="typescript_statement" id=")],$=Sfz+RUiQ$Tyed.=" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="octopusPosition = findOctopusMovePosition(octopusPosition, playerPosition, HIT_BUFFER)" numlines="1"></mutation><comment id="undefined" pinned="false" h="80" w="160">move octopus</comment><next><block type="typescript_statement" id="D1Kcyyub2AJ+7Px2O*om" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="moveGameSprite(octopusPosition, octopus)" numlines="1"></mutation><next><block type="controls_if" id="Mr)2~G:D-LM|FBVL)DD3"><mutation else="1"/><comment id="undefined" pinned="false" h="80" w="160">move shark sharkTargetTile = findSharkTargetTile(playerPosition) if (sharkTargetTile.getColumn() &gt; 0 &amp;&amp; sharkTargetTile.getRow() &gt; 0) { if (sharkSeekPath.length == 0 || !(sharkTargetTile.equals(sharkSeekPath[sharkSeekPath.length - 1].point))) {
} } sharkPosition = findSharkMovePosition(sharkPosition, sharkSeekPath)</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="Hz=WOmXl$ZzfOx/BP2$%"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="4W!Qajs~1][VXF7pzNkz"><field name="VAR" id="{Jf%dI7)4KDOT+X-4HMI">playerInWater</field></block></value></block></value><next><block type="typescript_statement" id="f^{B_Fq,/Eqgf0F%:|g[" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="moveGameSprite(sharkPosition, shark)" numlines="1"></mutation></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>