<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable type="BLOCKLY_TILESET_TYPE" id="jZ|=Dpt.I8_UK?o:eHoE">0;16;16;0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</variable><variable type="BLOCKLY_TILESET_TYPE" id="N|53)^I:m9#d~V3wgSea">2;8;8;bbbbbbbbeebebbbbbbbbbbbbbbbbebeebbbbbbbbbbeeeebebbbbbbbbebbebbbe</variable><variable type="BLOCKLY_TILESET_TYPE" id="BR)3gZ7h_+)W/_;)-ed@">3;8;8;eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888</variable><variable type="BLOCKLY_TILESET_TYPE" id="..8*}FQ2;5vkS|9Bw97z">4;8;8;7777777777777777777777777777777777777777777777777777777777777777</variable><variable type="BLOCKLY_TILESET_TYPE" id="?sE2Uyv/!#V5C%g9gwKZ">5;8;8;8888d8be8888d8be8888d8be8888d8be8888d8be8888d8be8888d8be8888d8be</variable><variable type="BLOCKLY_TILESET_TYPE" id="9@I_sKoMFXw=P=+Uw;YD">6;8;8;5755557575777757757777577577775775777757757777577577775757555575</variable><variable type="BLOCKLY_TILESET_TYPE" id="xY+skdKaNhY+7PB$PpzT">7;8;8;bbbbbbbbeeeeeeeedddddddd8888888888888888888888888888888888888888</variable><variable type="BLOCKLY_TILESET_TYPE" id="3Hu|v;8%1$nfAKvO+~Ku">8;8;8;8888888888888888888888888888888888888888ddddddddeeeeeeeebbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="8WQ(b`dgiBn;qM.!wJl1">9;8;8;eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888ebddddddebeeeeeebbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="eqhKsqZ8XGE40mdn/b}T">10;8;8;bbbbbbbbeeeeeebeddddddbe8888d8be8888d8be8888d8be8888d8be8888d8be</variable><variable type="BLOCKLY_TILESET_TYPE" id="Lt@X$W0I6mbr5RB1}D!Z">11;8;8;8888d8be8888d8be8888d8be8888d8be8888d8beddddddbeeeeeeebebbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="gJ~7Ng@MiRQRi-ST=dAT">12;8;8;bbbbbbbbebeeeeeeebddddddeb8d8888eb8d8888eb8d8888eb8d8888eb8d8888</variable><variable type="BLOCKLY_TILESET_TYPE" id="dG{kpu1u[#]hTC]XF+wK">13;8;8;8888d8be8888d8ee8888d8dd8888888888888888888888888888888888888888</variable><variable type="BLOCKLY_TILESET_TYPE" id="JIbC4a4;G2R[~D3ZqMD1">14;8;8;eb8d8888ee8d8888dd8d88888888888888888888888888888888888888888888</variable><variable type="BLOCKLY_TILESET_TYPE" id="/~h~Y|{{,308u,2EBd9w">15;8;8;8888888888888888888888888888888888888888dd8d8888ee8d8888eb8d8888</variable><variable type="BLOCKLY_TILESET_TYPE" id="k#whDo%pd@`H-vAdx{mY">16;8;8;88888888888888888888888888888888888888888888d8dd8888d8ee8888d8be</variable><variable type="BLOCKLY_TILESET_TYPE" id="MpJRYEeP%A-~;Za_S3Ws">17;8;8;bbbbbbbbbb33b3bbbbb33bbbbbb33bbbbb33b3bbbbb3bbbbbbb3bbbbbbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="Bt?tH}kVoqSs/D2Hu!+^">18;8;8;bdbbbbdbdbbbbbbdbbbddbbbbbdbbdbbbbdbbdbbbbbddbbbdbbbbbbdbdbbbbdb</variable><variable type="BLOCKLY_TILESET_TYPE" id="o]gk~3m+z3Y3VQyJwFAE">19;8;8;bbbbbbbbbb22b2bb2bbb2bbb2bbbbbbbbb22b2bbbbbb2bbb2bbb2bbbbb22b2bb</variable><variable type="BLOCKLY_TILESET_TYPE" id="*?0gf7}$=N0LMBd8Tz2/">20;8;8;4444444444444444555555554444444444444444555555554444444444444444</variable><variable type="BLOCKLY_TILESET_TYPE" id="B2+A|hp6H*(~?E0eG0G+">21;8;8;4445544444455444444554444445544444455444444554444445544444455444</variable><variable id="7a6xL%NCwnajEro72~th">sharkSeekPath</variable><variable id="}W#p!;tFJcPhFd*+=i?q">hitBuffer</variable><variable id="5Eu8GMWvHr6a#rx+}iWE">tileSize</variable><variable id="]/ZU[}WnGs81zHs71}vz">mySprite</variable><variable id="37+u6;t?:Y$d.)[p;|_i">octopus</variable><variable id="|WX4JyXe]/8H@YSB$sa4">shark</variable><variable id="Iu|RWGu]byrn3C]4f$k|">coin</variable><variable id="0F*xbVD05zuwduUS}n+)">coinTiles</variable><variable id="s[$l_Vsex7c;aJhpc@%g">playerSpawnTile</variable><variable id="Do}HF`rPsr5U{)HA_vwG">octopusSpawnTile</variable><variable id="amL,E,([Uru9oR,mXFyw">sharkSpawnTile</variable><variable type="KIND_SpriteKind" id="HC!x3HLLP;=ir+_]3Zsv">Player</variable><variable type="KIND_SpriteKind" id="y!NQZz+KXTtfeCPbG2!:">Projectile</variable><variable type="KIND_SpriteKind" id="rnpm+P$!LkW6tO.%^=le">Food</variable><variable type="KIND_SpriteKind" id="|4$+cl:,aO:nQxF;bX_S">Enemy</variable></variables><block type="pxt-on-start" id="AOZA`glnQ1SH5@PCI^N)" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="({HX*`~AH[4*~1Ors8{T" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let sharkSeekPath:Array&lt;GridSpot&gt; = []" numlines="1" declaredvars="sharkSeekPath"></mutation><next><block type="typescript_statement" id="|.tP%bA+-tc8iuX^n5^d" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="class Point {" line1="    x: number" line2="    y: number" line3="    tile: Image = null" line4="    constructor(x: number = 0, y: number = 0) {" line5="        this.x = x" line6="        this.y = y" line7="    }" line8="}" numlines="9"></mutation><next><block type="typescript_statement" id="R%6*~UThLY-$5/^{]oVo" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="class GridSpot{" line1="    row: number" line2="    column: number" line3="    constructor(row: number = 0, column: number = 0){" line4="        this.row = row" line5="        this.column = column" line6="    }" line7="    equals(otherSpot:GridSpot):boolean{" line8="        return otherSpot.row === this.row &amp;&amp; otherSpot.column === this.column" line9="    }" line10="}" numlines="11"></mutation><next><block type="typescript_statement" id="6g$s~}IO3Cv#!$b--aYt" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let playerPosition:Point = new Point(0,0)" numlines="1" declaredvars="playerPosition"></mutation><next><block type="typescript_statement" id="CM0HO!MLm5Dq#6Ukw-!j" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let octopusPosition:Point = new Point(0,0)" numlines="1" declaredvars="octopusPosition"></mutation><next><block type="typescript_statement" id="}x;gQ2DUACNZ2kPSdVkJ" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let sharkPosition:Point = new Point(0,0)" numlines="1" declaredvars="sharkPosition"></mutation><next><block type="variables_set" id="B5QE{)%:C7x+BMnLHC1J"><field name="VAR" id="}W#p!;tFJcPhFd*+=i?q">hitBuffer</field><value name="VALUE"><shadow type="math_number" id="P^q73Y=r)SGqv(aof_gi"><field name="NUM">4</field></shadow></value><next><block type="variables_set" id="}6-fA.GZQ1}jfC5^f*OE"><field name="VAR" id="5Eu8GMWvHr6a#rx+}iWE">tileSize</field><value name="VALUE"><shadow type="math_number" id="glL[`_5Nxo?eIIZFj12W"><field name="NUM">8</field></shadow></value><next><block type="variables_set" id="#wy]`U/JOe|}|vN-**d["><field name="VAR" id="]/ZU[}WnGs81zHs71}vz">mySprite</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="/yVSb6.~7unfcXh_`-JM"><value name="img"><shadow type="screen_image_picker" id="]y[q/yZrr/MBamv$i(m_"><field name="img">img`
. . . . . . . . 
. . . 1 1 . . . 
. . 1 1 1 1 . . 
3 4 1 1 1 1 4 3 
3 4 4 1 1 4 4 3 
. . 4 1 1 4 . . 
. . 1 1 1 1 . . 
. . . . . . . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="?z5/qYr56~2diBSCa^4U"><field name="MEMBER">Player</field></shadow></value></block></value><next><block type="variables_set" id="l+mr8LjCkt1MuD=d[5rq"><field name="VAR" id="37+u6;t?:Y$d.)[p;|_i">octopus</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="s7@{wL5~W!!9z|h(ujpW"><value name="img"><shadow type="screen_image_picker" id="MOY]Vj`}jQC;jy={t*H6"><field name="img">img`
. a d d d . . . . . . . a d d d d d . . . . . . . . a a d d . . 
a d d . . . . . . . . a d d d d d d d d . . . . . a d d d d d . 
a d . . . . . . . . a d d 1 . . . . . d d . . . . a d . . . d d 
a d . . . . . . . . a d 1 . . . . . . . . . . . a d 1 . . . d d 
a d . . . . . . . . a d 1 . . . . . . . . . . a d d 1 . . . . d 
a d 1 . . . . . . . a d d d . . . . . . . . a d d d 1 . . . . . 
a d d 1 . . . . . . a d d a a a a a d d . . a d d d . . . . . . 
. a d d 1 . . . . . . a a d d d d d d d d d d d 1 . . . . . . . 
. . a d d d d d d . a d d d d d a d d d d d d d 1 . . . . . . . 
. . . a a d d d d a d d d a d d d d d d a d d d . . . . . . . . 
. . . . . a d d d a d d d d d d d d d d d d d d . . . . . a d . 
. . . . . . a a a d d d d d d d d a d d d d d d d . a a a d d d 
. . . . . . . . a d d a d d d d d d d d d d a d d a d d d d d d 
. . . . . . . . d d d d d d d d d d d d d d d d d d d 1 1 . d d 
. . . . . . . . d d d d d d d 1 1 1 d d d d d d d d d . . . d d 
. . . . . . . . d d d d d d 1 a a a 1 d d d d d d . . . . . . d 
. . . . . . . a d d d d d d 1 a d a 1 d d d d d 1 . . . . d d d 
. . . . . . a d d d d d d d 1 a d a 1 d d d d d 1 . . . . d d . 
. . . . a a d d d d d d d d 1 a a a 1 d d d d 1 d . . . . d . . 
. . a a d d d d d d d d d d d 1 1 1 d d d d d 1 d d 1 . . . . . 
. a d d d d d 1 1 1 d d d d d d d d d d d d d d d d 1 . . . . . 
a d d d d . . . . . a a d d d d d d d d 1 1 . d d d d 1 . . . . 
a d d d . . . . . a d d d d d d d 1 1 1 d 1 . . . d d d 1 . . . 
a d d . . . . . . a d d d d . . . d d d d 1 . . . a d d 1 . . . 
a d d . . . . . . a d d . . . . . . a d d 1 . . . . . d d 1 . . 
a d d . . . . . . a d d . . . . . . . a d d 1 . . . . d d 1 . . 
a d d . . . . . a d d . . . . . . . . . a d 1 . . . . a d d 1 . 
d d . . . . . . a d d . . . . . . . . . a d d . . . . . d d d . 
d d . . . . . . a d d . . . . . . . . . . d d d . . . . . d d d 
d d . . . . . . a d d . . . . . . . . d . . d d . . . . . . a d 
d d d . . . . . . a d . . . . . . . . d d d d d . . . . . . d d 
. d d . . . . . . . d d d . . . . . . . d d d . . . . . . d . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="wkyi)WkbgEw;}]g^ZdNk"><field name="MEMBER">Enemy</field></shadow></value></block></value><next><block type="variables_set" id="gc1m78L+c^M^5NggKM8P"><field name="VAR" id="|WX4JyXe]/8H@YSB$sa4">shark</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="+x:Zs#])8;,?gLZih#D4"><value name="img"><shadow type="screen_image_picker" id="Glw]bxsD6U,t7vfT8`F("><field name="img">img`
. . . . 8 d d . 
. . . 8 d d . . 
. . 8 d 1 . . . 
. 8 d d 1 . . . 
. 8 d d d 1 . . 
. d d d d d 1 . 
7 d d d d d d 7 
. 7 7 7 7 7 7 . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id=",5o]$nR{~sWAdojc=nPH"><field name="MEMBER">Enemy</field></shadow></value></block></value><next><block type="variables_set" id="UGS(^CjkU0[#uZ=cz;4s"><field name="VAR" id="Iu|RWGu]byrn3C]4f$k|">coin</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id=")VDce[?ov16Q0%EkhQ*T"><value name="img"><shadow type="screen_image_picker" id="gh;/T7Z1os2lP~=hiIVY"><field name="img">img`
. . 4 4 4 4 . . 
. 4 5 5 5 5 4 . 
4 5 5 4 5 5 5 4 
4 5 5 4 5 5 5 4 
4 5 5 4 5 5 5 4 
4 5 5 4 5 5 5 4 
. 4 5 5 5 5 4 . 
. . 4 4 4 4 . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="/)c:xt?0+xH5y}DvWE^r"><field name="MEMBER">Food</field></shadow></value></block></value><next><block type="game_control_sprite" id="6Gh_jaCDq3c5bZPysn#G"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="sprite"><shadow type="variables_get" id="U(FfU3kf])A75).cc*`A"><field name="VAR" id="]/ZU[}WnGs81zHs71}vz">mySprite</field></shadow></value><next><block type="camerafollow" id="jNA60nVOA5.GEJt|{Y$9"><value name="sprite"><shadow type="variables_get" id="To:r;Z.3oyQSl}10@jZZ"><field name="VAR" id="]/ZU[}WnGs81zHs71}vz">mySprite</field></shadow></value><next><block type="tilemap_editor" id="_9;Kp#tv[7/v7Y=PfF02"><field name="tilemap">tiles.createTilemap(
            hex`2000200001010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010110010101010101010101010101010101010101010101010101110101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101011313010101010101010101010101010101010101010101010101010101010102030303030303030303030303030314010101010101010101010101010101010203030303030303030303030303031401010101010101010101010101010101020503040101010101010101010101010101010101010101010101010101010102030304011201010101010101010101010101010101010101010101010101010203050401010101010101010101010101010101010101010101010101010101020303040101010101010101010101010101010101010101010101010101010102050304010101010101010101010101010101010101010101010101010101010203030401010101010101010101010101010101010101010101010101010101020305040101010101010101010101010101010101010101010101010101010102030304010101010101010101010101010101010101010101010101010101010205030401010101010101010101010101010101010101010101010101010101020303040101010101010101010101010101010101010101010101010101010102030504010101010101010101010101010101010101010101010101010101010203030401010101010101010101010101010101010101010101010101010101020503040101010101010101010101010101010101010101010101010101010101131301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101`,
            img`
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
`,
            [myTiles.tile0,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,myTiles.tile8,myTiles.tile9,myTiles.tile10,myTiles.tile11,myTiles.tile12,myTiles.tile13,myTiles.tile14,myTiles.tile15,myTiles.tile16,myTiles.tile17,myTiles.tile18,myTiles.tile19,myTiles.tile20,myTiles.tile21],
            TileScale.Eight
        )</field><next><block type="variables_set" id="yyQB10_5EpE%koTfYPhe"><field name="VAR" id="0F*xbVD05zuwduUS}n+)">coinTiles</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="mapgettilestype" id="SW~9;A3=;-_`)IWx)%43"><value name="tile"><shadow type="tileset_tile_picker" id="j4/EXTEX.A%$=z`v?]i2"><field name="tile">myTiles.tile6</field></shadow></value></block></value><next><block type="typescript_statement" id="j0H,U|`kmI.F#QHfp:,S" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="coinTiles.forEach(function (value: tiles.Location, index: number) {" line1="    let newCoin = sprites.create(coin.image, SpriteKind.Food)" line2="    tiles.placeOnTile(newCoin, value)" line3="    tiles.setTileAt(value, myTiles.tile4);" line4="})" numlines="5"></mutation><next><block type="variables_set" id="F9//D2%[+rF64*$,4}bo"><field name="VAR" id="s[$l_Vsex7c;aJhpc@%g">playerSpawnTile</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="~5V3J)-Jfzsh|32Yvls*"><value name="LIST"><block type="mapgettilestype" id="ge+o_/co`5.3Iv8Fj9Q#"><value name="tile"><shadow type="tileset_tile_picker" id="7_xeD`n4WvJHi8R*+F6I"><field name="tile">myTiles.tile17</field></shadow></value></block></value><value name="INDEX"><shadow type="math_number" id="3dP](:i#FZeE~X3_@WWl"><field name="NUM">0</field></shadow></value></block></value><next><block type="Sprite_blockCombine_set" id="y.b75$a9D/Iu+Z8GAxHW"><field name="property">Sprite.x@set</field><value name="mySprite"><block type="variables_get" id="eJ3rkoFz`[.Sv]_]v+f+"><field name="VAR" id="]/ZU[}WnGs81zHs71}vz">mySprite</field></block></value><value name="value"><block type="typescript_expression" id="xwMN/R+pQ)#%32LO(6O%" editable="false"><field name="EXPRESSION">playerPosition.x = playerSpawnTile.x</field></block></value><next><block type="Sprite_blockCombine_set" id=";9R!1YJ@}`QhKlV(0R-;"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get" id="81x1qgRiC6j0^4X3b88O"><field name="VAR" id="]/ZU[}WnGs81zHs71}vz">mySprite</field></block></value><value name="value"><block type="typescript_expression" id="g;s9c(WtdZG:v^=t:^^r" editable="false"><field name="EXPRESSION">playerPosition.y = playerSpawnTile.y</field></block></value><next><block type="mapsettileat" id="!=vt@Nn:TX.S%AewE+De"><value name="tile"><shadow type="tileset_tile_picker" id="Dt|^jj9#C4cVxf*2Q-)C"><field name="tile">myTiles.tile2</field></shadow></value><value name="loc"><shadow type="mapgettile"/><block type="variables_get" id="@$=f|E4|bhmP?E7-K7q}"><field name="VAR" id="s[$l_Vsex7c;aJhpc@%g">playerSpawnTile</field></block></value><next><block type="variables_set" id="^3gLy4=mS$6SvFiKd!-?"><field name="VAR" id="Do}HF`rPsr5U{)HA_vwG">octopusSpawnTile</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id=",.Uk^[wEG^L3lm*8Urk_"><value name="LIST"><block type="mapgettilestype" id="AgoN}@HqWE:Rou9Pb2wg"><value name="tile"><shadow type="tileset_tile_picker" id="~|,2a;s[?:FjJhM8t~+b"><field name="tile">myTiles.tile18</field></shadow></value></block></value><value name="INDEX"><shadow type="math_number" id="ITKYwuA1R`g@PlQ$b}/L"><field name="NUM">0</field></shadow></value></block></value><next><block type="Sprite_blockCombine_set" id="DzT~QFkU*1JLMC%xwD|-"><field name="property">Sprite.x@set</field><value name="mySprite"><block type="variables_get" id="CY*!(R7$Iry5H!s]3!Q0"><field name="VAR" id="37+u6;t?:Y$d.)[p;|_i">octopus</field></block></value><value name="value"><block type="typescript_expression" id="p83qC|J-^eAIIQ_k{c4^" editable="false"><field name="EXPRESSION">octopusPosition.x = octopusSpawnTile.x</field></block></value><next><block type="Sprite_blockCombine_set" id="-vg1W.LyVlmD#*cCe*C?"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get" id="{g0Y`THdVKgR:f{Z|bxx"><field name="VAR" id="37+u6;t?:Y$d.)[p;|_i">octopus</field></block></value><value name="value"><block type="typescript_expression" id="tN`OXvrFr.H:iuaUKj,2" editable="false"><field name="EXPRESSION">octopusPosition.y = octopusSpawnTile.y</field></block></value><next><block type="mapsettileat" id="qx_B^7R}BlaS=~|-hN9Z"><value name="tile"><shadow type="tileset_tile_picker" id="RNra2|rvO{.1R)YMHY.F"><field name="tile">myTiles.tile2</field></shadow></value><value name="loc"><shadow type="mapgettile"/><block type="variables_get" id=";b=yb9IB%YF)D@XD5auu"><field name="VAR" id="Do}HF`rPsr5U{)HA_vwG">octopusSpawnTile</field></block></value><next><block type="variables_set" id="Sm4U%!*2Z9tyzpJ6/+EQ"><field name="VAR" id="amL,E,([Uru9oR,mXFyw">sharkSpawnTile</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="@XwDvp_-HSm523]b-{8z"><value name="LIST"><block type="mapgettilestype" id="FKgrx6%6.wA)O96t00vP"><value name="tile"><shadow type="tileset_tile_picker" id="b(27*X|.m6N~KL}JY~rL"><field name="tile">myTiles.tile19</field></shadow></value></block></value><value name="INDEX"><shadow type="math_number" id="XAH*_%k~Md6[.JG*(0=:"><field name="NUM">0</field></shadow></value></block></value><next><block type="Sprite_blockCombine_set" id="`ucO/VxQVgXa4W2.`0!="><field name="property">Sprite.x@set</field><value name="mySprite"><block type="variables_get" id="xGh9=CwK+?*v5V{}I$u`"><field name="VAR" id="|WX4JyXe]/8H@YSB$sa4">shark</field></block></value><value name="value"><block type="typescript_expression" id="_i[j.InJoW86#L,QH@kB" editable="false"><field name="EXPRESSION">sharkPosition.x = sharkSpawnTile.x</field></block></value><next><block type="Sprite_blockCombine_set" id="b2?S[C5Xh}nmV=I=O5bV"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get" id="Kgmf1GYX]?NL}+/Q8]i7"><field name="VAR" id="|WX4JyXe]/8H@YSB$sa4">shark</field></block></value><value name="value"><block type="typescript_expression" id="M#DS?,v?g7OCG-O/Xcn]" editable="false"><field name="EXPRESSION">sharkPosition.y = sharkSpawnTile.y</field></block></value><next><block type="mapsettileat" id="/86Pcw%:JK@3z,h9rf@~"><value name="tile"><shadow type="tileset_tile_picker" id="IMLlZ~|B},s=}]A%M8|`"><field name="tile">myTiles.tile2</field></shadow></value><value name="loc"><shadow type="mapgettile"/><block type="variables_get" id="8$yjRwDP%tm)XPW9E_hn"><field name="VAR" id="amL,E,([Uru9oR,mXFyw">sharkSpawnTile</field></block></value><next><block type="typescript_statement" id="ioW{(!P5kIk*+t?mK`jV" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function positionToTile(position:number, tileSize:number):number {" line1="    return Math.floor(position/tileSize);" line2="}" numlines="3"></mutation><next><block type="typescript_statement" id="VITPOxn!/$g[(=qnxIw," editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function isWaterTile(tileImage:Image):boolean {" line1="    if(tileImage == myTiles.tile2 || " line2="        tileImage == myTiles.tile3 ||" line3="        tileImage == myTiles.tile5 ||" line4="        tileImage == myTiles.tile7 ||" line5="        tileImage == myTiles.tile8 ||" line6="        tileImage == myTiles.tile9 ||" line7="        tileImage == myTiles.tile10 ||" line8="        tileImage == myTiles.tile11 ||" line9="        tileImage == myTiles.tile12 ||" line10="        tileImage == myTiles.tile13 ||" line11="        tileImage == myTiles.tile14 ||" line12="        tileImage == myTiles.tile15 ||" line13="        tileImage == myTiles.tile16){" line14="        return true" line15="    }" line16="    return false" line17="}" numlines="18"></mutation><next><block type="typescript_statement" id="#[bP!5a9!Ou^y[I#4i)E" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function isLandTile(tileImage:Image):boolean{" line1="    if(tileImage == myTiles.tile4){" line2="        return true" line3="    }" line4="    return false" line5="}" numlines="6"></mutation><next><block type="typescript_statement" id="hBX7,HXipTdH90X#2Ow+" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function checkLandBoundsCollision(character:Sprite, lastPosition:Point):Point{" line1="    let newTile: Image = tiles.getTileAt(positionToTile(character.x, tileSize), positionToTile(character.y, tileSize))" line2="    if (lastPosition.tile == null) {" line3="        lastPosition.tile = newTile" line4="    }" line5="" line6="    if (isLandTile(newTile) &amp;&amp; isWaterTile(lastPosition.tile) || " line7="        isWaterTile(newTile) &amp;&amp; isLandTile(lastPosition.tile)) {" line8="            //todo: determine whether it's a horizontal or vertical collision and limit movement" line9="            //also need to check whether the other position change results in a tile collision, like in a corner" line10="        character.x = lastPosition.x" line11="        character.y = lastPosition.y" line12="        return lastPosition;" line13="    }" line14="    lastPosition.x = character.x" line15="    lastPosition.y = character.y" line16="    lastPosition.tile = newTile" line17="    return lastPosition" line18="}" numlines="19"></mutation><next><block type="typescript_statement" id="LvlhkurWMxO6d:9;TJ#x" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function findOctopusMovePosition(octopusPosition: Point, playerPosition: Point, buffer:number): Point {" line1="    let moveLeft: boolean = playerPosition.x &lt; octopusPosition.x - buffer" line2="    let moveRight: boolean = playerPosition.x &gt; octopusPosition.x + buffer" line3="    let moveUp: boolean = playerPosition.y &lt; octopusPosition.y - buffer" line4="    let moveDown: boolean = playerPosition.y &gt; octopusPosition.y + buffer" line5="    let moveRate: number = .4" line6="" line7="    if (moveLeft) {" line8="        octopusPosition.x -= moveRate" line9="    } else if (moveRight) {" line10="        octopusPosition.x += moveRate" line11="    }" line12="    if (moveUp) {" line13="        octopusPosition.y -= moveRate" line14="    } else if (moveDown) {" line15="        octopusPosition.y += moveRate" line16="    }" line17="    return octopusPosition" line18="}" numlines="19"></mutation><next><block type="typescript_statement" id="q|!VC/5g!o8(DV7Q`{|," editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function seekPath(startingTile: GridSpot, targetTile: GridSpot, currentPath: Array&lt;GridSpot&gt;, closedTiles: Array&lt;GridSpot&gt;): Array&lt;GridSpot&gt;{" line1="    " line2="    return currentPath" line3="}" numlines="4"></mutation><next><block type="typescript_statement" id="[yv/71NpXL.MAnPVoB5x" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function findSharkMovePosition(sharkPosition: Point, seekPath:Array&lt;GridSpot&gt;):Point{" line1="" line2="    //need to keep track of tile position of player and only recalculate if the player has changed tiles" line3="" line4="    return sharkPosition" line5="}" numlines="6"></mutation><next><block type="typescript_statement" id="d*[!/r:lc@q3Bch(3wY`" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function findSharkTargetTile(playerPosition:Point):GridSpot {" line1="    let resultGridSpot = new GridSpot()" line2="    if(isWaterTile(playerPosition.tile)){" line3="        resultGridSpot.row = positionToTile(playerPosition.y, tileSize)" line4="        resultGridSpot.column = positionToTile(playerPosition.x, tileSize)" line5="        return resultGridSpot" line6="    }" line7="" line8="    return resultGridSpot" line9="}" numlines="10"></mutation><next><block type="typescript_statement" id="*;aW[5h0#1g:j[8/f,D7" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function moveGameSprite(position:Point, sprite:Sprite):void {" line1="    sprite.x = Math.floor(position.x)" line2="    sprite.y = Math.floor(position.y)" line3="}" numlines="4"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="spritesoverlap" id="+UPiQyGzGmN|GwGoxysS" x="570" y="210"><value name="HANDLER_DRAG_PARAM_sprite"><shadow type="argument_reporter_custom" id="cYC4]4q:OWj6CyBYm0/g"><mutation typename="Sprite"/><field name="VALUE">sprite</field></shadow></value><value name="kind"><shadow type="spritekind" id="{nVyS-n@{|sPaA}D*ChR"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><shadow type="argument_reporter_custom" id="CyY}fW^sO%YgT]R@Wu[!"><mutation typename="Sprite"/><field name="VALUE">otherSprite</field></shadow></value><value name="otherKind"><shadow type="spritekind" id="Fyk]k48*L7O@~pH~1.xd"><field name="MEMBER">Food</field></shadow></value><statement name="HANDLER"><block type="hudsetScore" id="BR4272HBu;@COIHCGh]1"><value name="value"><block type="math_arithmetic" id="wg-%}!pRGCriGz6A58:-"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="hudScore" id="DrZop7`:B/%er76tFskW"/></value><value name="B"><shadow type="math_number" id="E7@0XrmhAbg/v4?sE.H["><field name="NUM">1</field></shadow></value></block></value><next><block type="spritedestroy" id="Jw$;8NHhLvDSY4*pfE_0"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="sprite"><block type="argument_reporter_custom" id="6qlS%.`W7U[};~H!ZT-T"><mutation typename="Sprite"/><field name="VALUE">otherSprite</field></block></value></block></next></block></statement></block><block type="gameupdate" id="++)=rb~8ZbJaC[A$HkO]" x="550" y="530"><statement name="HANDLER"><block type="typescript_statement" id="$8=lIm1_F]WrT{SxtJ++" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="playerPosition = checkLandBoundsCollision(mySprite, playerPosition)" numlines="1"></mutation><next><block type="typescript_statement" id="tDwO41RL-{wgi)3Xu.2y" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="octopusPosition = findOctopusMovePosition(octopusPosition, playerPosition, hitBuffer)" numlines="1"></mutation><comment id="undefined" pinned="false" h="80" w="160">move octopus</comment><next><block type="typescript_statement" id="]vN34HPFTnN1`eSUc9hp" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="moveGameSprite(octopusPosition, octopus)" numlines="1"></mutation><next><block type="typescript_statement" id="Os/o_inUktyQAPDZG7He" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let targetTile = findSharkTargetTile(playerPosition)" numlines="1" declaredvars="targetTile"></mutation><comment id="undefined" pinned="false" h="80" w="160">move shark</comment><next><block type="controls_if" id="g;H$JXm!vGnr_9Lq,h`,"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="[;(|~pVGVF*k4*Xq5CK-"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="dnHtu:Wq;XhzZBaW,^tU"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="Zlx~,|ZQMJuyu9jnI%jc" editable="false"><field name="EXPRESSION">targetTile.column</field></block></value><value name="B"><shadow type="math_number" id="j(N-T#/Q!XI:st6.ICO4"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="sc/~dh:5VDlJ~w`7S{`["><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="M6k@BmDi6VyxDz|G!2hg" editable="false"><field name="EXPRESSION">targetTile.row</field></block></value><value name="B"><shadow type="math_number" id="fq#e?1E.`1,lc|;1KZBe"><field name="NUM">0</field></shadow></value></block></value></block></value><statement name="DO0"><block type="controls_if" id="QCk1NX*J/E8}pRERc-,K"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="DnUOQ%:HbO$F1POR{U:3"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="3^VVb4kpkP`s!HDpSp;@"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_length" id="c)(nm)%I{,l-8baNh9[m"><value name="VALUE"><block type="variables_get" id="?$aKp9WdFqZ*,=}2,RYu"><field name="VAR" id="7a6xL%NCwnajEro72~th">sharkSeekPath</field></block></value></block></value><value name="B"><shadow type="math_number" id="^H/MtV(A!1Wq8PuwIqW/"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="6prGyBb,FIhM0J;}1){O"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="X^Q;i}(8Owxnfe=jR@c9" editable="false"><field name="EXPRESSION">targetTile.equals(sharkSeekPath[sharkSeekPath.length - 1])</field></block></value></block></value></block></value></block></statement></block></next></block></next></block></next></block></next></block></statement></block></xml>