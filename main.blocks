<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="3{7r?t{[g?gg^qOrKU[l">sharkTargetWaypoint</variable><variable id="mx9Ms2_O6?{#hwx^u2|0">sharkSeekPath</variable><variable id="E~ZQSL3+!}$]sQne]T]-">HIT_BUFFER</variable><variable id=";^_S57f?bqt;{z+pT~D3">TILE_SIZE</variable><variable id="xp:3DE0r1-ThV;HwKsHg">PLAYER_MOVE_SPEED</variable><variable id="oP-+QpK`~ZHB+IPE/l)7">mySprite</variable><variable id="^MNFI`vKG7d?)e#(QnCW">octopus</variable><variable id="[{Cgu0VHNLnJfQ+o(?Pb">shark</variable><variable id="0Dbmz;F=X,WlqgqZPu+)">coin</variable><variable id="-rnp=RbM`YW5a2SgyLn+">coinTiles</variable><variable id="--2u3d6MgPGcE`,W!?D!">waypointTiles</variable><variable id="{z;IHKj{TZY{M.(xj@Y)">playerSpawnTile</variable><variable id="[oO$)QIMNb/Fcc*hWeQm">octopusSpawnTile</variable><variable id="qFNPk^:KJste:VpM.@6!">sharkSpawnTile</variable><variable type="KIND_SpriteKind" id="!?-Uj,SNRsvq3c7c{W2Z">Player</variable><variable type="KIND_SpriteKind" id="~ZlSj(+klukd4vt#n*!5">Projectile</variable><variable type="KIND_SpriteKind" id="yVKYiSi3}S1$$JjeIVTq">Food</variable><variable type="KIND_SpriteKind" id="9[-i`nPT+vz)lvhTxpwc">Enemy</variable><variable type="BLOCKLY_TILESET_TYPE" id="+TO_*GO$37(L`(jzzx?!">0;16;16;0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</variable><variable type="BLOCKLY_TILESET_TYPE" id="N2Ureqe0z,Ed2NU-[LPN">2;8;8;bbbbbbbbeebebbbbbbbbbbbbbbbbebeebbbbbbbbbbeeeebebbbbbbbbebbebbbe</variable><variable type="BLOCKLY_TILESET_TYPE" id="vC35%~~`_XePe:2%%jzh">3;8;8;eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888</variable><variable type="BLOCKLY_TILESET_TYPE" id="3ffu9Au{D*J:Yjo1dAfT">4;8;8;7777777777777777777777777777777777777777777777777777777777777777</variable><variable type="BLOCKLY_TILESET_TYPE" id="wzK9qQyZ1f4?$~wHym]4">5;8;8;8888d8be8888d8be8888d8be8888d8be8888d8be8888d8be8888d8be8888d8be</variable><variable type="BLOCKLY_TILESET_TYPE" id="y$;I:svwUw0cTx.Qnn*7">6;8;8;5755557575777757757777577577775775777757757777577577775757555575</variable><variable type="BLOCKLY_TILESET_TYPE" id="QY61m,Wmp3W)}GA)(3W[">7;8;8;bbbbbbbbeeeeeeeedddddddd8888888888888888888888888888888888888888</variable><variable type="BLOCKLY_TILESET_TYPE" id="ISVr!p2!hJNu/(VP?RP2">8;8;8;8888888888888888888888888888888888888888ddddddddeeeeeeeebbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="7N;n7?d+M_h]e/g=w{hG">9;8;8;eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888ebddddddebeeeeeebbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="}H;PgzYx;7V]t#{~{AbV">10;8;8;bbbbbbbbeeeeeebeddddddbe8888d8be8888d8be8888d8be8888d8be8888d8be</variable><variable type="BLOCKLY_TILESET_TYPE" id="*2kf8;P6MvXVNtv^nZd*">11;8;8;8888d8be8888d8be8888d8be8888d8be8888d8beddddddbeeeeeeebebbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="@Dy(h-kO@9KuI(gvc=Ea">12;8;8;bbbbbbbbebeeeeeeebddddddeb8d8888eb8d8888eb8d8888eb8d8888eb8d8888</variable><variable type="BLOCKLY_TILESET_TYPE" id="RAGc;H@=z$RWahiA3WSE">13;8;8;8888d8be8888d8ee8888d8dd8888888888888888888888888888888888888888</variable><variable type="BLOCKLY_TILESET_TYPE" id="8ul,n8y_TLQ.7p0^jy?:">14;8;8;eb8d8888ee8d8888dd8d88888888888888888888888888888888888888888888</variable><variable type="BLOCKLY_TILESET_TYPE" id="`,Pv$c0($fz+bLgn:XN?">15;8;8;8888888888888888888888888888888888888888dd8d8888ee8d8888eb8d8888</variable><variable type="BLOCKLY_TILESET_TYPE" id="LG_#IrjFl,f)-ZUUi@Re">16;8;8;88888888888888888888888888888888888888888888d8dd8888d8ee8888d8be</variable><variable type="BLOCKLY_TILESET_TYPE" id="q~6Ad]Z5mx#k|le){jz0">17;8;8;bbbbbbbbbb33b3bbbbb33bbbbbb33bbbbb33b3bbbbb3bbbbbbb3bbbbbbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="$_G;2wePpe69ya0C,^)[">18;8;8;bdbbbbdbdbbbbbbdbbbddbbbbbdbbdbbbbdbbdbbbbbddbbbdbbbbbbdbdbbbbdb</variable><variable type="BLOCKLY_TILESET_TYPE" id="1g)Gx*)6`l{@Jal5USf2">19;8;8;bbbbbbbbbb22b2bb2bbb2bbb2bbbbbbbbb22b2bbbbbb2bbb2bbb2bbbbb22b2bb</variable><variable type="BLOCKLY_TILESET_TYPE" id="U$7(3LD@7~I}tVr$h40F">20;8;8;4444444444444444555555554444444444444444555555554444444444444444</variable><variable type="BLOCKLY_TILESET_TYPE" id="R%T[#x}5zQcw-V=#BRSj">21;8;8;4445544444455444444554444445544444455444444554444445544444455444</variable><variable type="BLOCKLY_TILESET_TYPE" id="nzsSk9nVEEeF0i=prhrM">22;8;8;bb5bb5bb5b5bb5b5bb5bbbbb55bb5b5555b5bb55bbbbb5bb5b5bb5b5bb5bb5bb</variable></variables><block type="pxt-on-start" id="PK/F({T#,|##3:SV8T%$" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="rOt#/!7ftz1#M4dE1VRi" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let sharkTargetWaypoint:HelperClasses.Waypoint = null" numlines="1" declaredvars="sharkTargetWaypoint"></mutation><next><block type="typescript_statement" id="p}CB~;}~5aEP{{x-$:T6" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let playerInWater:boolean = false" numlines="1" declaredvars="playerInWater"></mutation><next><block type="variables_set" id="{([w11B5JPTD@~_x97,9"><field name="VAR" id="mx9Ms2_O6?{#hwx^u2|0">sharkSeekPath</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="vo8zIl8)7z,oJLxKuec*"><mutation items="0"/></block></value><next><block type="typescript_statement" id="*xU$@pwP5NmF%DJ9!~{." editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let waypoints: Array&lt;HelperClasses.Waypoint&gt; = []" numlines="1" declaredvars="waypoints"></mutation><next><block type="variables_set" id="17ZbO=wd#Hi5Vi{p=D-5"><field name="VAR" id="E~ZQSL3+!}$]sQne]T]-">HIT_BUFFER</field><value name="VALUE"><shadow type="math_number" id="Q2B8kYrC1hGDvg)_c3aT"><field name="NUM">4</field></shadow></value><next><block type="variables_set" id="WAJ!}#}kZo:}[S#Ix,v#"><field name="VAR" id=";^_S57f?bqt;{z+pT~D3">TILE_SIZE</field><value name="VALUE"><shadow type="math_number" id="lM.yjX#/JyF8f2x7#}lX"><field name="NUM">8</field></shadow></value><next><block type="variables_set" id="y?*5c.tJ9u%!ffgG]{JJ"><field name="VAR" id="xp:3DE0r1-ThV;HwKsHg">PLAYER_MOVE_SPEED</field><value name="VALUE"><shadow type="math_number" id="r47,2.v]-[EUAl1NI:gU"><field name="NUM">40</field></shadow></value><next><block type="typescript_statement" id="uv-#QXm!R.)v{{^6zjiG" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let playerPosition: HelperClasses.Point = new HelperClasses.Point(0, 0)" numlines="1" declaredvars="playerPosition"></mutation><next><block type="typescript_statement" id="3aqr,~z?HJkX+PQw?ak~" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let octopusPosition: HelperClasses.Point = new HelperClasses.Point(0, 0)" numlines="1" declaredvars="octopusPosition"></mutation><next><block type="typescript_statement" id="]m0p[RGtlT!GQ|$fwpx9" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let sharkPosition: HelperClasses.Point = new HelperClasses.Point(0, 0)" numlines="1" declaredvars="sharkPosition"></mutation><next><block type="variables_set" id="*knmzl.d({h;9$qe_3?o"><field name="VAR" id="oP-+QpK`~ZHB+IPE/l)7">mySprite</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="#[o{wf;8hoz/L$OO#MK("><value name="img"><shadow type="screen_image_picker" id="{kXT,J0fVr9/Kpr-_O%H"><field name="img">img`
. . . . . . . . 
. . . 1 1 . . . 
. . 1 1 1 1 . . 
3 4 1 1 1 1 4 3 
3 4 4 1 1 4 4 3 
. . 4 1 1 4 . . 
. . 1 1 1 1 . . 
. . . . . . . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="SxS?Vs$FHLQQ(c=^_UQZ"><field name="MEMBER">Player</field></shadow></value></block></value><next><block type="variables_set" id="s!@m$Vs;hhgdApPiS:}+"><field name="VAR" id="^MNFI`vKG7d?)e#(QnCW">octopus</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="*bbeeo.Ajdc:,zZOZ22n"><value name="img"><shadow type="screen_image_picker" id="5@1]Zv3NqdvbGU{mQ$:0"><field name="img">img`
. a d d d . . . . . . . a d d d d d . . . . . . . . a a d d . . 
a d d . . . . . . . . a d d d d d d d d . . . . . a d d d d d . 
a d . . . . . . . . a d d 1 . . . . . d d . . . . a d . . . d d 
a d . . . . . . . . a d 1 . . . . . . . . . . . a d 1 . . . d d 
a d . . . . . . . . a d 1 . . . . . . . . . . a d d 1 . . . . d 
a d 1 . . . . . . . a d d d . . . . . . . . a d d d 1 . . . . . 
a d d 1 . . . . . . a d d a a a a a d d . . a d d d . . . . . . 
. a d d 1 . . . . . . a a d d d d d d d d d d d 1 . . . . . . . 
. . a d d d d d d . a d d d d d a d d d d d d d 1 . . . . . . . 
. . . a a d d d d a d d d a d d d d d d a d d d . . . . . . . . 
. . . . . a d d d a d d d d d d d d d d d d d d . . . . . a d . 
. . . . . . a a a d d d d d d d d a d d d d d d d . a a a d d d 
. . . . . . . . a d d a d d d d d d d d d d a d d a d d d d d d 
. . . . . . . . d d d d d d d d d d d d d d d d d d d 1 1 . d d 
. . . . . . . . d d d d d d d 1 1 1 d d d d d d d d d . . . d d 
. . . . . . . . d d d d d d 1 a a a 1 d d d d d d . . . . . . d 
. . . . . . . a d d d d d d 1 a d a 1 d d d d d 1 . . . . d d d 
. . . . . . a d d d d d d d 1 a d a 1 d d d d d 1 . . . . d d . 
. . . . a a d d d d d d d d 1 a a a 1 d d d d 1 d . . . . d . . 
. . a a d d d d d d d d d d d 1 1 1 d d d d d 1 d d 1 . . . . . 
. a d d d d d 1 1 1 d d d d d d d d d d d d d d d d 1 . . . . . 
a d d d d . . . . . a a d d d d d d d d 1 1 . d d d d 1 . . . . 
a d d d . . . . . a d d d d d d d 1 1 1 d 1 . . . d d d 1 . . . 
a d d . . . . . . a d d d d . . . d d d d 1 . . . a d d 1 . . . 
a d d . . . . . . a d d . . . . . . a d d 1 . . . . . d d 1 . . 
a d d . . . . . . a d d . . . . . . . a d d 1 . . . . d d 1 . . 
a d d . . . . . a d d . . . . . . . . . a d 1 . . . . a d d 1 . 
d d . . . . . . a d d . . . . . . . . . a d d . . . . . d d d . 
d d . . . . . . a d d . . . . . . . . . . d d d . . . . . d d d 
d d . . . . . . a d d . . . . . . . . d . . d d . . . . . . a d 
d d d . . . . . . a d . . . . . . . . d d d d d . . . . . . d d 
. d d . . . . . . . d d d . . . . . . . d d d . . . . . . d . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="H@A?kY%qo,;oH@e;g[+j"><field name="MEMBER">Enemy</field></shadow></value></block></value><next><block type="variables_set" id="57|_c@xG)fozGsjIym4j"><field name="VAR" id="[{Cgu0VHNLnJfQ+o(?Pb">shark</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id=":v}I2y*^hRdkNlzSHoaO"><value name="img"><shadow type="screen_image_picker" id="G4D(yJ3]q#v]@da_iYy_"><field name="img">img`
. . . . 8 d d . 
. . . 8 d d . . 
. . 8 d 1 . . . 
. 8 d d 1 . . . 
. 8 d d d 1 . . 
. d d d d d 1 . 
7 d d d d d d 7 
. 7 7 7 7 7 7 . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="{5Q[.}387EJPt+_aGaeW"><field name="MEMBER">Enemy</field></shadow></value></block></value><next><block type="variables_set" id="u5Np22{)|oHB64+io%5f"><field name="VAR" id="0Dbmz;F=X,WlqgqZPu+)">coin</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="}G%kM/X{uZwu(nMc4YyE"><value name="img"><shadow type="screen_image_picker" id="JS6BpE?8qXF%OP{iMEd$"><field name="img">img`
. . 4 4 4 4 . . 
. 4 5 5 5 5 4 . 
4 5 5 4 5 5 5 4 
4 5 5 4 5 5 5 4 
4 5 5 4 5 5 5 4 
4 5 5 4 5 5 5 4 
. 4 5 5 5 5 4 . 
. . 4 4 4 4 . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="Lg}zE(#W=rv)`J@(o|!,"><field name="MEMBER">Food</field></shadow></value></block></value><next><block type="game_control_sprite" id="mc8p6SV-7Xi1;3v~As`9"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="sprite"><shadow type="variables_get" id="vp7u?CzUQ~G$`8sd[:}-"><field name="VAR" id="oP-+QpK`~ZHB+IPE/l)7">mySprite</field></shadow></value><next><block type="camerafollow" id="wOUFvRMHtg^V}*YwLJ1|"><value name="sprite"><shadow type="variables_get" id="z%]{9Ov@:GLrVGLi{#%?"><field name="VAR" id="oP-+QpK`~ZHB+IPE/l)7">mySprite</field></shadow></value><next><block type="tilemap_editor" id="6I7O^DAvBclaPwgDpoK="><field name="tilemap">tiles.createTilemap(
            hex`2000200001010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010110010101010101010101010101010101010101010101010101110101010101010101010101010101010101010101010101010101010101010101010101010101010115010101010101010101010101010101010101150101010101010101010101010101011313010101010101010101010101010101010101010101010101010101010102030303030303030303030303030314010101010101010101010101010101010203030303030303030303030303031401010101010101010101010101010101020503040101010101010101010101010101010101010101010101010101120102030304011501010101010101010101011501010101010101010101010101010203050401010101010101010101010101010101010101010101010101010101020303040101010101010101010101010101010101010101010101010101010102050304010101010101010101010101010101010101010101010101010101010203030401010101010101010101010101010101010101010101010101010101020305040101010101010101010101010101010101010101010101010101010102030304010101010101010101010101010101010101010101010101010101010205030401010101010101010101010101010101010101010101010101010101020303040101010101010101010101010101010101010101010101010101010102030504010101010101010101010101010101010101010101010101010101010203030401010101010101010101010101010101010101010101010101010101020503040101010101010101010101010101010101010101010101010101010101131301010101010101010101010101010101010101010101010101010115010101010101150101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101`,
            img`
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
`,
            [myTiles.tile0,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,myTiles.tile8,myTiles.tile9,myTiles.tile10,myTiles.tile11,myTiles.tile12,myTiles.tile13,myTiles.tile14,myTiles.tile15,myTiles.tile16,myTiles.tile17,myTiles.tile18,myTiles.tile19,myTiles.tile20,myTiles.tile21,myTiles.tile22],
            TileScale.Eight
        )</field><next><block type="variables_set" id="TRA(f8Ck%%4.r,|$1ab;"><field name="VAR" id="-rnp=RbM`YW5a2SgyLn+">coinTiles</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="mapgettilestype" id="4=,/t1IF/DoLyj9R}2[."><value name="tile"><shadow type="tileset_tile_picker" id="Sv9ZFTqn:b6t2Fpg)o6A"><field name="tile">myTiles.tile6</field></shadow></value></block></value><next><block type="typescript_statement" id="Pd4PRB?WlG+=_7@E1qf0" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="coinTiles.forEach(function (value: tiles.Location, index: number) {" line1="    let newCoin = sprites.create(coin.image, SpriteKind.Food)" line2="    tiles.placeOnTile(newCoin, value)" line3="    tiles.setTileAt(value, myTiles.tile4);" line4="})" numlines="5"></mutation><next><block type="variables_set" id="#Wpc^Y`Ej.qVPLyQlLYt"><field name="VAR" id="--2u3d6MgPGcE`,W!?D!">waypointTiles</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="mapgettilestype" id="pw?b/cdYJ)3ZF+-zcVl5"><value name="tile"><shadow type="tileset_tile_picker" id="Tn(GqnUUNwBLnx}#*I-m"><field name="tile">myTiles.tile22</field></shadow></value></block></value><next><block type="typescript_statement" id="ZCOuLJ-q;Iy~CDVB/8mn" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="waypointTiles.forEach(function (value: tiles.Location, index: number) {" line1="    tiles.setTileAt(value, myTiles.tile2)" line2="    waypoints.push(new HelperClasses.Waypoint(new HelperClasses.Point(value.x, value.y)))" line3="})" numlines="4"></mutation><next><block type="typescript_statement" id="1/V^trEr~1aEWHb9htIu" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="waypoints = Pathfinding.connectWaypoints(waypoints)" numlines="1"></mutation><next><block type="variables_set" id="su912,QDK_gSa9RcDi$o"><field name="VAR" id="{z;IHKj{TZY{M.(xj@Y)">playerSpawnTile</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="!#:~I_@A]q;W+=j4,_d~"><value name="LIST"><block type="mapgettilestype" id="1*K;lw9M^RL7kY:[V6/%"><value name="tile"><shadow type="tileset_tile_picker" id="_)kI!MlZW~`K#88)WcfD"><field name="tile">myTiles.tile17</field></shadow></value></block></value><value name="INDEX"><shadow type="math_number" id="lLGUY~uB6aIbFFwFGFg?"><field name="NUM">0</field></shadow></value></block></value><next><block type="Sprite_blockCombine_set" id="fI]/`j9}90A#qtB$tx:B"><field name="property">Sprite.x@set</field><value name="mySprite"><block type="variables_get" id="w@ScN3ue]RVE^OeE[#Jq"><field name="VAR" id="oP-+QpK`~ZHB+IPE/l)7">mySprite</field></block></value><value name="value"><block type="typescript_expression" id="x2}}d7qA2rivwu@Y.%=s" editable="false"><field name="EXPRESSION">playerPosition.x = playerSpawnTile.x</field></block></value><next><block type="Sprite_blockCombine_set" id="*}KWy;oH?^!y#Hs`bSpJ"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get" id="obo-._P)%ihzhb+ze{t8"><field name="VAR" id="oP-+QpK`~ZHB+IPE/l)7">mySprite</field></block></value><value name="value"><block type="typescript_expression" id="=r/(2a}x*O9dIe@Jneao" editable="false"><field name="EXPRESSION">playerPosition.y = playerSpawnTile.y</field></block></value><next><block type="mapsettileat" id="wtbeM3D(J6;33DjOhp+g"><value name="tile"><shadow type="tileset_tile_picker" id="aL@$0VT3ZtO#NVRXY._U"><field name="tile">myTiles.tile2</field></shadow></value><value name="loc"><shadow type="mapgettile"/><block type="variables_get" id="9[?(,b+vyf_5v1=_4eWu"><field name="VAR" id="{z;IHKj{TZY{M.(xj@Y)">playerSpawnTile</field></block></value><next><block type="variables_set" id="1*5=O9].o32`VQ9wUc%3"><field name="VAR" id="[oO$)QIMNb/Fcc*hWeQm">octopusSpawnTile</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="-?.Tgx+dB99:JjPcb$8p"><value name="LIST"><block type="mapgettilestype" id="R2pR{p(R2iIfB)#f~UF7"><value name="tile"><shadow type="tileset_tile_picker" id="J!:yQywy^C0/sEW6!Vsq"><field name="tile">myTiles.tile18</field></shadow></value></block></value><value name="INDEX"><shadow type="math_number" id="TEVIfBJi{2aG_cd-5k:g"><field name="NUM">0</field></shadow></value></block></value><next><block type="Sprite_blockCombine_set" id="t|nK({dBF^-9t$;v8jRo"><field name="property">Sprite.x@set</field><value name="mySprite"><block type="variables_get" id="~~dhgv{*i=7gEPcMglVU"><field name="VAR" id="^MNFI`vKG7d?)e#(QnCW">octopus</field></block></value><value name="value"><block type="typescript_expression" id="nKUbag+MGwpF,@Cp+tIn" editable="false"><field name="EXPRESSION">octopusPosition.x = octopusSpawnTile.x</field></block></value><next><block type="Sprite_blockCombine_set" id="_58a*b}4Ygn_M~j,8v|x"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get" id="czq2ffb`1fwhB$^#c1mV"><field name="VAR" id="^MNFI`vKG7d?)e#(QnCW">octopus</field></block></value><value name="value"><block type="typescript_expression" id="$/eO*%^#`4p9tg}7)LVT" editable="false"><field name="EXPRESSION">octopusPosition.y = octopusSpawnTile.y</field></block></value><next><block type="mapsettileat" id="NuOzuNR@2c}8+xqq#)1l"><value name="tile"><shadow type="tileset_tile_picker" id=";lSDcB{A?Jdnt;SGW=GW"><field name="tile">myTiles.tile2</field></shadow></value><value name="loc"><shadow type="mapgettile"/><block type="variables_get" id="lr,-is?26O6@WwZzf/n~"><field name="VAR" id="[oO$)QIMNb/Fcc*hWeQm">octopusSpawnTile</field></block></value><next><block type="variables_set" id="IPYt%4yGnK-y/i+Ja!~I"><field name="VAR" id="qFNPk^:KJste:VpM.@6!">sharkSpawnTile</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id=";}ijx@Lk?ucY-gnpbS_)"><value name="LIST"><block type="mapgettilestype" id=".KH[%I0H-0/5XhXvG)z;"><value name="tile"><shadow type="tileset_tile_picker" id="fZb6=dmb~]_qA@@wrW+m"><field name="tile">myTiles.tile19</field></shadow></value></block></value><value name="INDEX"><shadow type="math_number" id="#uMom:C2~3O)RkHV#C{_"><field name="NUM">0</field></shadow></value></block></value><next><block type="Sprite_blockCombine_set" id=".4zt.r~i+~_xz~UA*A%X"><field name="property">Sprite.x@set</field><value name="mySprite"><block type="variables_get" id="*9S0~.iCaZ;y?/J#95${"><field name="VAR" id="[{Cgu0VHNLnJfQ+o(?Pb">shark</field></block></value><value name="value"><block type="typescript_expression" id="c0wM%fFdkW,5mUAW/S*?" editable="false"><field name="EXPRESSION">sharkPosition.x = sharkSpawnTile.x</field></block></value><next><block type="Sprite_blockCombine_set" id=":GoOp*WB2;!ce-_,:f$o"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get" id="!*~Q^Ex0pCyjUA:o#[~P"><field name="VAR" id="[{Cgu0VHNLnJfQ+o(?Pb">shark</field></block></value><value name="value"><block type="typescript_expression" id="%jo|1=:W#r=l1W1?gTHm" editable="false"><field name="EXPRESSION">sharkPosition.y = sharkSpawnTile.y</field></block></value><next><block type="mapsettileat" id="~gjvRiG/d*~xgh1m}ySN"><value name="tile"><shadow type="tileset_tile_picker" id="xE2N_tz6n?iY(kUbO;L~"><field name="tile">myTiles.tile2</field></shadow></value><value name="loc"><shadow type="mapgettile"/><block type="variables_get" id=".cFlelkyY[u5~@-4L;/K"><field name="VAR" id="qFNPk^:KJste:VpM.@6!">sharkSpawnTile</field></block></value><next><block type="typescript_statement" id="NxN[H#+Bm7m_e1*_QxRA" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let sharkTargetTile = new HelperClasses.Point()" numlines="1" declaredvars="sharkTargetTile"></mutation><next><block type="typescript_statement" id="vAZmy$GcG.Uvy.b:c@_$" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function positionToTile(position: number, tileSize: number): number {" line1="    return Math.floor(position / tileSize);" line2="}" numlines="3"></mutation><next><block type="typescript_statement" id="Qy@dG~_$0g8rn2:m;dVS" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function isWaterTile(tileImage: Image): boolean {" line1="    if (tileImage == myTiles.tile2 ||" line2="        tileImage == myTiles.tile3 ||" line3="        tileImage == myTiles.tile5 ||" line4="        tileImage == myTiles.tile7 ||" line5="        tileImage == myTiles.tile8 ||" line6="        tileImage == myTiles.tile9 ||" line7="        tileImage == myTiles.tile10 ||" line8="        tileImage == myTiles.tile11 ||" line9="        tileImage == myTiles.tile12 ||" line10="        tileImage == myTiles.tile13 ||" line11="        tileImage == myTiles.tile14 ||" line12="        tileImage == myTiles.tile15 ||" line13="        tileImage == myTiles.tile16) {" line14="        return true" line15="    }" line16="    return false" line17="}" numlines="18"></mutation><next><block type="typescript_statement" id="~?c1dI8kt2MG8ibvRk1q" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function isLandTile(tileImage: Image): boolean {" line1="    if (tileImage == myTiles.tile4) {" line2="        return true" line3="    }" line4="    return false" line5="}" numlines="6"></mutation><next><block type="typescript_statement" id="kaJsCS2{KVV4q/.n%Pb7" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function checkLandBoundsCollision(character: Sprite, lastPosition: HelperClasses.Point): HelperClasses.Point {" line1="    let newTile: Image = tiles.getTileAt(positionToTile(character.x, TILE_SIZE), positionToTile(character.y, TILE_SIZE))" line2="    if (lastPosition.tile == null) {" line3="        lastPosition.tile = newTile" line4="    }" line5="" line6="    if (isLandTile(newTile) &amp;&amp; isWaterTile(lastPosition.tile) ||" line7="        isWaterTile(newTile) &amp;&amp; isLandTile(lastPosition.tile)) {" line8="        //todo: determine whether it's a horizontal or vertical collision and limit movement" line9="        //also need to check whether the other position change results in a tile collision, like in a corner" line10="        character.x = lastPosition.x" line11="        character.y = lastPosition.y" line12="        return lastPosition;" line13="    }" line14="    lastPosition.x = character.x" line15="    lastPosition.y = character.y" line16="    lastPosition.tile = newTile" line17="    return lastPosition" line18="}" numlines="19"></mutation><next><block type="typescript_statement" id=".KQVuHV(-b,}e#/ApN/1" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function findOctopusMovePosition(octopusPosition: HelperClasses.Point, playerPosition: HelperClasses.Point, buffer: number): HelperClasses.Point {" line1="    let moveLeft: boolean = playerPosition.x &lt; octopusPosition.x - buffer" line2="    let moveRight: boolean = playerPosition.x &gt; octopusPosition.x + buffer" line3="    let moveUp: boolean = playerPosition.y &lt; octopusPosition.y - buffer" line4="    let moveDown: boolean = playerPosition.y &gt; octopusPosition.y + buffer" line5="    let moveRate: number = .4" line6="" line7="    if (moveLeft) {" line8="        octopusPosition.x -= moveRate" line9="    } else if (moveRight) {" line10="        octopusPosition.x += moveRate" line11="    }" line12="    if (moveUp) {" line13="        octopusPosition.y -= moveRate" line14="    } else if (moveDown) {" line15="        octopusPosition.y += moveRate" line16="    }" line17="    return octopusPosition" line18="}" numlines="19"></mutation><next><block type="typescript_statement" id="WP-`$0q`2pn~SoegHTzl" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function findSharkMovePosition(sharkPosition: HelperClasses.Point, seekPath: Array&lt;HelperClasses.PathPosition&gt;): HelperClasses.Point {" line1="" line2="    //need to keep track of tile position of player and only recalculate if the player has changed tiles" line3="" line4="    return sharkPosition" line5="}" numlines="6"></mutation><next><block type="typescript_statement" id="1E_|0oyFu3xues~%3_E0" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function findSharkTargetTile(playerPosition: HelperClasses.Point): HelperClasses.Point {" line1="    let resultGridSpot = new HelperClasses.Point()" line2="    if (isWaterTile(playerPosition.tile)) {" line3="        resultGridSpot.y = playerPosition.y" line4="        resultGridSpot.x = playerPosition.x" line5="        return resultGridSpot" line6="    }" line7="    //todo: implement roaming" line8="" line9="    return resultGridSpot" line10="}" numlines="11"></mutation><next><block type="typescript_statement" id="NJ;J8:+F7Gzns`-(v|tH" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function moveGameSprite(position: HelperClasses.Point, sprite: Sprite): void {" line1="    sprite.x = Math.floor(position.x)" line2="    sprite.y = Math.floor(position.y)" line3="}" numlines="4"></mutation><next><block type="typescript_statement" id="e_P40(u.z[]U|l$f%qo}" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function moveTowardWaypoint(position: HelperClasses.Point, waypoint: HelperClasses.Waypoint, moveRate:number):HelperClasses.Point{" line1="    if(position.x &lt; waypoint.point.x){" line2="        position.x += moveRate" line3="        if(position.x &gt; waypoint.point.x){" line4="            position.remainder = position.x - waypoint.point.x" line5="            position.x = waypoint.point.x" line6="        }" line7="    }" line8="    if(position.x &gt; waypoint.point.x){" line9="        position.x -= moveRate" line10="        if (position.x &lt; waypoint.point.x) {" line11="            position.remainder = waypoint.point.x - position.x" line12="            position.x = waypoint.point.x" line13="        }" line14="    }" line15="    if(position.y &lt; waypoint.point.y){" line16="        position.y += moveRate" line17="        if (position.y &gt; waypoint.point.y) {" line18="            position.remainder = position.y - waypoint.point.y" line19="            position.y = waypoint.point.y" line20="        }" line21="    }" line22="    if (position.y &gt; waypoint.point.y) {" line23="        position.y -= moveRate" line24="        if (position.y &lt; waypoint.point.y) {" line25="            position.remainder = waypoint.point.y - position.y" line26="            position.y = waypoint.point.y" line27="        }" line28="    }" line29="    return position" line30="}" numlines="31"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="spritesoverlap" id="2tZwYHLfB$vnF/**DS-i" x="440" y="80"><value name="HANDLER_DRAG_PARAM_sprite"><shadow type="argument_reporter_custom" id="n{s2EKYRLP`7iX9$=:l)"><mutation typename="Sprite"/><field name="VALUE">sprite</field></shadow></value><value name="kind"><shadow type="spritekind" id="MM^V*fGj#!g^!2)Ud2[K"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><shadow type="argument_reporter_custom" id="#.soKZEO*AJnp_m$v%|F"><mutation typename="Sprite"/><field name="VALUE">otherSprite</field></shadow></value><value name="otherKind"><shadow type="spritekind" id="(PZ?RfJS?P_C`KKk(%1v"><field name="MEMBER">Food</field></shadow></value><statement name="HANDLER"><block type="hudsetScore" id="isscEO6TxBqEz}Fg)G2p"><value name="value"><block type="math_arithmetic" id="S=vlN]Gyni(WbD[q8X2v"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="hudScore" id="q:rGR@IN9~zzuYNg/nvu"/></value><value name="B"><shadow type="math_number" id="3;%JfTpXpKk3pB1P(sAM"><field name="NUM">1</field></shadow></value></block></value><next><block type="spritedestroy" id=":aIf}/6~ML~0/B%aNYa7"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="sprite"><block type="argument_reporter_custom" id="C7WVP6L$wMpRF7v6q:_n"><mutation typename="Sprite"/><field name="VALUE">otherSprite</field></block></value></block></next></block></statement></block><block type="gameupdate" id="*p~D@oSx!k@G~27O,2nD" x="580" y="360"><statement name="HANDLER"><block type="typescript_statement" id="1JG5e2Cc7ge8jjak,S`U" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="playerPosition = checkLandBoundsCollision(mySprite, playerPosition)" numlines="1"></mutation><next><block type="typescript_statement" id=".@eIc4F|)gp9hBkM$Vmm" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="playerInWater = isWaterTile(playerPosition.tile)" numlines="1"></mutation><next><block type="typescript_statement" id="vxT-[Ug)7l@d(k9u#wTR" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="octopusPosition = findOctopusMovePosition(octopusPosition, playerPosition, HIT_BUFFER)" numlines="1"></mutation><comment id="undefined" pinned="false" h="80" w="160">move octopus</comment><next><block type="typescript_statement" id="63XxvOMNlbQc3_oRL@jr" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="moveGameSprite(octopusPosition, octopus)" numlines="1"></mutation><next><block type="controls_if" id="T)w`l`T}Uv+hIF)@I1%r"><comment id="undefined" pinned="false" h="80" w="160">move shark sharkTargetTile = findSharkTargetTile(playerPosition) if (sharkTargetTile.getColumn() &gt; 0 &amp;&amp; sharkTargetTile.getRow() &gt; 0) { if (sharkSeekPath.length == 0 || !(sharkTargetTile.equals(sharkSeekPath[sharkSeekPath.length - 1].point))) {
} } sharkPosition = findSharkMovePosition(sharkPosition, sharkSeekPath) if shark is close target player if shark is far pathfind closest waypoint</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="RZJ+dZ;Y5P~q4UkCJ;mv"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="p4:jpa?@So_uK20J$SZR"><field name="VAR" id="3{7r?t{[g?gg^qOrKU[l">sharkTargetWaypoint</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="`6SW:D%[08~*Q[+M5z.5" editable="false"><field name="EXPRESSION">null</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="%N(#Au@5d_@E@upf+#Sq" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sharkTargetWaypoint = Pathfinding.getClosestWaypoint(sharkPosition, waypoints)" numlines="1"></mutation></block></statement><next><block type="typescript_statement" id="lGX{#2jYYt|TWxrW4OF=" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="moveTowardWaypoint(sharkPosition, sharkTargetWaypoint, PLAYER_MOVE_SPEED)" numlines="1"></mutation><next><block type="typescript_statement" id="+|+B$M|fdKsLM`tjPmq#" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="moveGameSprite(sharkPosition, shark)" numlines="1"></mutation><comment id="undefined" pinned="false" h="80" w="160">once at waypoint determine next waypoint based on player in water or on land</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>