<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable type="BLOCKLY_TILESET_TYPE" id="/`y-83SUa2y-{4,ZbpjD">0;16;16;0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</variable><variable type="BLOCKLY_TILESET_TYPE" id="T@iAz%|sfX)i+P2s?au|">2;8;8;bbbbbbbbeebebbbbbbbbbbbbbbbbebeebbbbbbbbbbeeeebebbbbbbbbebbebbbe</variable><variable type="BLOCKLY_TILESET_TYPE" id="9!nxSzm*jN+RW(baz_AV">3;8;8;eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888</variable><variable type="BLOCKLY_TILESET_TYPE" id="6rMvh|Om0a]!6:2[Ug#/">4;8;8;7777777777777777777777777777777777777777777777777777777777777777</variable><variable type="BLOCKLY_TILESET_TYPE" id="q5LhAqew$~d;sFW*F-*+">5;8;8;8888d8be8888d8be8888d8be8888d8be8888d8be8888d8be8888d8be8888d8be</variable><variable type="BLOCKLY_TILESET_TYPE" id="T$SiPd]eO|wk-n4qj#AD">6;8;8;5755557575777757757777577577775775777757757777577577775757555575</variable><variable type="BLOCKLY_TILESET_TYPE" id="I;n=^SqC{[]n_Hqh4/k1">7;8;8;bbbbbbbbeeeeeeeedddddddd8888888888888888888888888888888888888888</variable><variable type="BLOCKLY_TILESET_TYPE" id="K1~RR:.lOOZ}{1)tm@q*">8;8;8;8888888888888888888888888888888888888888ddddddddeeeeeeeebbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="z-{QQPzsI]V7e~AZ;6B5">9;8;8;eb8d8888eb8d8888eb8d8888eb8d8888eb8d8888ebddddddebeeeeeebbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="gv|t^tCTwG(D)z8lG^3g">10;8;8;bbbbbbbbeeeeeebeddddddbe8888d8be8888d8be8888d8be8888d8be8888d8be</variable><variable type="BLOCKLY_TILESET_TYPE" id="tYS79#k2x$%:GXNnV?ND">11;8;8;8888d8be8888d8be8888d8be8888d8be8888d8beddddddbeeeeeeebebbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="::Whb;APK$xdyiFl*M6b">12;8;8;bbbbbbbbebeeeeeeebddddddeb8d8888eb8d8888eb8d8888eb8d8888eb8d8888</variable><variable type="BLOCKLY_TILESET_TYPE" id="=PV;In-b]6T;N8X}0,uh">13;8;8;8888d8be8888d8ee8888d8dd8888888888888888888888888888888888888888</variable><variable type="BLOCKLY_TILESET_TYPE" id="[l}MQ:!oB***5:7!~[DF">14;8;8;eb8d8888ee8d8888dd8d88888888888888888888888888888888888888888888</variable><variable type="BLOCKLY_TILESET_TYPE" id="|z#2cMzYTr2*3doAg/*;">15;8;8;8888888888888888888888888888888888888888dd8d8888ee8d8888eb8d8888</variable><variable type="BLOCKLY_TILESET_TYPE" id="x,oxuJE_~^D)S;?-(qKb">16;8;8;88888888888888888888888888888888888888888888d8dd8888d8ee8888d8be</variable><variable type="BLOCKLY_TILESET_TYPE" id="1g(:?@xD1D8..CHt@/PS">17;8;8;bbbbbbbbbb33b3bbbbb33bbbbbb33bbbbb33b3bbbbb3bbbbbbb3bbbbbbbbbbbb</variable><variable type="BLOCKLY_TILESET_TYPE" id="a4PVlsMxj(/RtG$6!s!3">18;8;8;bdbbbbdbdbbbbbbdbbbddbbbbbdbbdbbbbdbbdbbbbbddbbbdbbbbbbdbdbbbbdb</variable><variable type="BLOCKLY_TILESET_TYPE" id=".m{4AOOXSVEY|,%!5Qdl">19;8;8;bbbbbbbbbb22b2bb2bbb2bbb2bbbbbbbbb22b2bbbbbb2bbb2bbb2bbbbb22b2bb</variable><variable type="BLOCKLY_TILESET_TYPE" id="rX]X6e(Ha18`@K:$Ex*g">20;8;8;4444444444444444555555554444444444444444555555554444444444444444</variable><variable type="BLOCKLY_TILESET_TYPE" id="FgVAUjB|1!dRV]~a:2;?">21;8;8;4445544444455444444554444445544444455444444554444445544444455444</variable><variable type="BLOCKLY_TILESET_TYPE" id="btoU*SxL0VbH)ls_?1;`">22;8;8;bb5bb5bb5b5bb5b5bb5bbbbb55bb5b5555b5bb55bbbbb5bb5b5bb5b5bb5bb5bb</variable><variable id="#?g;wTEST-GwJJv#%CGJ">sharkSeekPath</variable><variable id="qdU${bx.6}hC`H29aI!B">hitBuffer</variable><variable id="pw^fjE(Bg}@A1G/S?PIo">tileSize</variable><variable id="wmB]PRc(l_}0*gOBw`bj">playerMoveSpeed</variable><variable id="m58/Jg=){FBb]?r.+};9">mySprite</variable><variable id="UV^as+GduR[Z@^n9e#YV">octopus</variable><variable id="LTD!M$rRBM^{=1^qZ4+w">shark</variable><variable id="^]g^S@=~VCbhhk8TVT2E">coin</variable><variable id="[YPNGSHK256b.x2JEo#_">coinTiles</variable><variable id="IzOdtb]sMNrts8!bt:{c">playerSpawnTile</variable><variable id="!w!%#{Q)CPMJp.DPRiWQ">octopusSpawnTile</variable><variable id="78s[YN|9lQ{RI_P|.4A$">sharkSpawnTile</variable><variable type="KIND_SpriteKind" id="9XuGS@R@Cv~aT`O%(-b?">Player</variable><variable type="KIND_SpriteKind" id="9l-[[m;.QmOf()T{C:n}">Projectile</variable><variable type="KIND_SpriteKind" id=",H?c#:x0Gxl3Ar8M5$zM">Food</variable><variable type="KIND_SpriteKind" id="l(?KgCS8STsw({V~`IYt">Enemy</variable></variables><block type="pxt-on-start" id="]ijo2I~I7Z[G?{^qM%Rk" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="TuWPlEv7gG/1f}_Yw~^P" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let sharkSeekPath: Array&lt;HelperClasses.PathPosition&gt; = []" numlines="1" declaredvars="sharkSeekPath"></mutation><next><block type="variables_set" id=")wKDlX}LC]JkDxw_B4O@"><field name="VAR" id="qdU${bx.6}hC`H29aI!B">hitBuffer</field><value name="VALUE"><shadow type="math_number" id="J+qeVVqzMKiBI+e|bX=N"><field name="NUM">4</field></shadow></value><next><block type="variables_set" id="P=ZofbnFSK=,!u6](YIM"><field name="VAR" id="pw^fjE(Bg}@A1G/S?PIo">tileSize</field><value name="VALUE"><shadow type="math_number" id="B5:h@5WCW[3GAZ|;/sW+"><field name="NUM">8</field></shadow></value><next><block type="variables_set" id="qCqAa.+Yp$YM3BMDE|*q"><field name="VAR" id="wmB]PRc(l_}0*gOBw`bj">playerMoveSpeed</field><value name="VALUE"><shadow type="math_number" id="6u-=Iczz}Ta79h^[q4#-"><field name="NUM">40</field></shadow></value><next><block type="typescript_statement" id="rvST*R$7MHziI7sQk=EI" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let playerPosition: HelperClasses.Point = new HelperClasses.Point(0, 0)" numlines="1" declaredvars="playerPosition"></mutation><next><block type="typescript_statement" id="I$WcRfX^z6A]A78dG}oD" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let octopusPosition: HelperClasses.Point = new HelperClasses.Point(0, 0)" numlines="1" declaredvars="octopusPosition"></mutation><next><block type="typescript_statement" id="E+6rlRH8,R_j^j1rm:=L" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let sharkPosition: HelperClasses.Point = new HelperClasses.Point(0, 0)" numlines="1" declaredvars="sharkPosition"></mutation><next><block type="variables_set" id="dRY=Z{82)sirDa=0epZJ"><field name="VAR" id="m58/Jg=){FBb]?r.+};9">mySprite</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="1wufpOJfe?n{KVaYRL/r"><value name="img"><shadow type="screen_image_picker" id="/X9LCwwlm*{?V,~,i:#!"><field name="img">img`
. . . . . . . . 
. . . 1 1 . . . 
. . 1 1 1 1 . . 
3 4 1 1 1 1 4 3 
3 4 4 1 1 4 4 3 
. . 4 1 1 4 . . 
. . 1 1 1 1 . . 
. . . . . . . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="_IV.NE,ye}s-CN,ei,{b"><field name="MEMBER">Player</field></shadow></value></block></value><next><block type="variables_set" id="gI0zWy8M%V9xt`^j_Yg_"><field name="VAR" id="UV^as+GduR[Z@^n9e#YV">octopus</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="h3Xec@d[J{#HaVG*=)LF"><value name="img"><shadow type="screen_image_picker" id="G)+7IYqJ!U39JRg0b=#("><field name="img">img`
. a d d d . . . . . . . a d d d d d . . . . . . . . a a d d . . 
a d d . . . . . . . . a d d d d d d d d . . . . . a d d d d d . 
a d . . . . . . . . a d d 1 . . . . . d d . . . . a d . . . d d 
a d . . . . . . . . a d 1 . . . . . . . . . . . a d 1 . . . d d 
a d . . . . . . . . a d 1 . . . . . . . . . . a d d 1 . . . . d 
a d 1 . . . . . . . a d d d . . . . . . . . a d d d 1 . . . . . 
a d d 1 . . . . . . a d d a a a a a d d . . a d d d . . . . . . 
. a d d 1 . . . . . . a a d d d d d d d d d d d 1 . . . . . . . 
. . a d d d d d d . a d d d d d a d d d d d d d 1 . . . . . . . 
. . . a a d d d d a d d d a d d d d d d a d d d . . . . . . . . 
. . . . . a d d d a d d d d d d d d d d d d d d . . . . . a d . 
. . . . . . a a a d d d d d d d d a d d d d d d d . a a a d d d 
. . . . . . . . a d d a d d d d d d d d d d a d d a d d d d d d 
. . . . . . . . d d d d d d d d d d d d d d d d d d d 1 1 . d d 
. . . . . . . . d d d d d d d 1 1 1 d d d d d d d d d . . . d d 
. . . . . . . . d d d d d d 1 a a a 1 d d d d d d . . . . . . d 
. . . . . . . a d d d d d d 1 a d a 1 d d d d d 1 . . . . d d d 
. . . . . . a d d d d d d d 1 a d a 1 d d d d d 1 . . . . d d . 
. . . . a a d d d d d d d d 1 a a a 1 d d d d 1 d . . . . d . . 
. . a a d d d d d d d d d d d 1 1 1 d d d d d 1 d d 1 . . . . . 
. a d d d d d 1 1 1 d d d d d d d d d d d d d d d d 1 . . . . . 
a d d d d . . . . . a a d d d d d d d d 1 1 . d d d d 1 . . . . 
a d d d . . . . . a d d d d d d d 1 1 1 d 1 . . . d d d 1 . . . 
a d d . . . . . . a d d d d . . . d d d d 1 . . . a d d 1 . . . 
a d d . . . . . . a d d . . . . . . a d d 1 . . . . . d d 1 . . 
a d d . . . . . . a d d . . . . . . . a d d 1 . . . . d d 1 . . 
a d d . . . . . a d d . . . . . . . . . a d 1 . . . . a d d 1 . 
d d . . . . . . a d d . . . . . . . . . a d d . . . . . d d d . 
d d . . . . . . a d d . . . . . . . . . . d d d . . . . . d d d 
d d . . . . . . a d d . . . . . . . . d . . d d . . . . . . a d 
d d d . . . . . . a d . . . . . . . . d d d d d . . . . . . d d 
. d d . . . . . . . d d d . . . . . . . d d d . . . . . . d . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="Ut/ia:zNA~LL5,(RTrDH"><field name="MEMBER">Enemy</field></shadow></value></block></value><next><block type="variables_set" id="=t1(=_p/[*4:i@,`8S;V"><field name="VAR" id="LTD!M$rRBM^{=1^qZ4+w">shark</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="OuY#L97T_Nd|F(26W@bG"><value name="img"><shadow type="screen_image_picker" id="IhB*J-gqmvKBv);]Es}x"><field name="img">img`
. . . . 8 d d . 
. . . 8 d d . . 
. . 8 d 1 . . . 
. 8 d d 1 . . . 
. 8 d d d 1 . . 
. d d d d d 1 . 
7 d d d d d d 7 
. 7 7 7 7 7 7 . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="AD=xC2DefPHU{mo^tdF="><field name="MEMBER">Enemy</field></shadow></value></block></value><next><block type="variables_set" id="%(3+}W[A@{x+4,dAigpZ"><field name="VAR" id="^]g^S@=~VCbhhk8TVT2E">coin</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="spritescreate" id="CpL#WYrN9x_gG1,|@/z/"><value name="img"><shadow type="screen_image_picker" id="88q{=1TlWW$!3*Ce@DUF"><field name="img">img`
. . 4 4 4 4 . . 
. 4 5 5 5 5 4 . 
4 5 5 4 5 5 5 4 
4 5 5 4 5 5 5 4 
4 5 5 4 5 5 5 4 
4 5 5 4 5 5 5 4 
. 4 5 5 5 5 4 . 
. . 4 4 4 4 . . 
`</field></shadow></value><value name="kind"><shadow type="spritekind" id="x.NNfDJZg;l:0NU!I[{6"><field name="MEMBER">Food</field></shadow></value></block></value><next><block type="game_control_sprite" id="AXJuTcOBZrJ!l.w?Vwd#"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="sprite"><shadow type="variables_get" id="{pC7u{uz%}A!KNp4Z7Gh"><field name="VAR" id="m58/Jg=){FBb]?r.+};9">mySprite</field></shadow></value><next><block type="camerafollow" id="XVN*st:%]]N#!Vwo3l_s"><value name="sprite"><shadow type="variables_get" id=",*Hr:;hB}[T7{_?Y$fz7"><field name="VAR" id="m58/Jg=){FBb]?r.+};9">mySprite</field></shadow></value><next><block type="tilemap_editor" id="@fcGkl#WxP+gQSVIJ%JT"><field name="tilemap">tiles.createTilemap(
            hex`2000200001010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010110010101010101010101010101010101010101010101010101110101010101010101010101010101010101010101010101010101010101010101010101010101010115010101010101010101010101010101010101150101010101010101010101010101011313010101010101010101010101010101010101010101010101010101010102030303030303030303030303030314010101010101010101010101120101010203030303030303030303030303031401010101010101010101010101010101020503040101010101010101010101010101010101010101010101010101010102030304011501010101010101010101011501010101010101010101010101010203050401010101010101010101010101010101010101010101010101010101020303040101010101010101010101010101010101010101010101010101010102050304010101010101010101010101010101010101010101010101010101010203030401010101010101010101010101010101010101010101010101010101020305040101010101010101010101010101010101010101010101010101010102030304010101010101010101010101010101010101010101010101010101010205030401010101010101010101010101010101010101010101010101010101020303040101010101010101010101010101010101010101010101010101010102030504010101010101010101010101010101010101010101010101010101010203030401010101010101010101010101010101010101010101010101010101020503040101010101010101010101010101010101010101010101010101010101131301010101010101010101010101010101010101010101010101010115010101010101150101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101`,
            img`
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
`,
            [myTiles.tile0,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,myTiles.tile8,myTiles.tile9,myTiles.tile10,myTiles.tile11,myTiles.tile12,myTiles.tile13,myTiles.tile14,myTiles.tile15,myTiles.tile16,myTiles.tile17,myTiles.tile18,myTiles.tile19,myTiles.tile20,myTiles.tile21,myTiles.tile22],
            TileScale.Eight
        )</field><next><block type="variables_set" id="Q{!l%rVbhiHY;xdp[r=}"><field name="VAR" id="[YPNGSHK256b.x2JEo#_">coinTiles</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="mapgettilestype" id="xi![tc+~5C?|pu:iC%ht"><value name="tile"><shadow type="tileset_tile_picker" id="5$dzzlqeDn}P_ZAI1I.5"><field name="tile">myTiles.tile6</field></shadow></value></block></value><next><block type="typescript_statement" id="UVu7cf5~vhjU[rE9kJ$~" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="coinTiles.forEach(function (value: tiles.Location, index: number) {" line1="    let newCoin = sprites.create(coin.image, SpriteKind.Food)" line2="    tiles.placeOnTile(newCoin, value)" line3="    tiles.setTileAt(value, myTiles.tile4);" line4="})" numlines="5"></mutation><next><block type="variables_set" id="l[6WH2_1tXW1#0{GUbTg"><field name="VAR" id="IzOdtb]sMNrts8!bt:{c">playerSpawnTile</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="3S[ifK[ORQc;fr#/Ss/]"><value name="LIST"><block type="mapgettilestype" id="tQ+2P5DaBqT;%Oj[9_iY"><value name="tile"><shadow type="tileset_tile_picker" id="EGK*[vEhG0i[~0+@k0*C"><field name="tile">myTiles.tile17</field></shadow></value></block></value><value name="INDEX"><shadow type="math_number" id="oglG5I!G){k,|7UU~:Pd"><field name="NUM">0</field></shadow></value></block></value><next><block type="Sprite_blockCombine_set" id="=bKRnv[Qc%RVQ$giUR*)"><field name="property">Sprite.x@set</field><value name="mySprite"><block type="variables_get" id="c~-EYy`)%gV|?y]Y#%ko"><field name="VAR" id="m58/Jg=){FBb]?r.+};9">mySprite</field></block></value><value name="value"><block type="typescript_expression" id="8{Ry1!,$1f*1yt?t2M0w" editable="false"><field name="EXPRESSION">playerPosition.x = playerSpawnTile.x</field></block></value><next><block type="Sprite_blockCombine_set" id="z`u0x}UKuA@ukXcJiy@/"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get" id="{9g9mxg_x1ODfs@%As}{"><field name="VAR" id="m58/Jg=){FBb]?r.+};9">mySprite</field></block></value><value name="value"><block type="typescript_expression" id="#$?W76[wQ]!mtg!Y|zO(" editable="false"><field name="EXPRESSION">playerPosition.y = playerSpawnTile.y</field></block></value><next><block type="mapsettileat" id="1$7%C((]@oC;[.h*agom"><value name="tile"><shadow type="tileset_tile_picker" id="53*3FxZs*4bUI2ye[)7R"><field name="tile">myTiles.tile2</field></shadow></value><value name="loc"><shadow type="mapgettile"/><block type="variables_get" id="LID91R!AD_}be:+x3ltd"><field name="VAR" id="IzOdtb]sMNrts8!bt:{c">playerSpawnTile</field></block></value><next><block type="variables_set" id="-@8?U_vQE@ZJt0PcmX:6"><field name="VAR" id="!w!%#{Q)CPMJp.DPRiWQ">octopusSpawnTile</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="N:9Cv@~5BE;KUsf9X/Jf"><value name="LIST"><block type="mapgettilestype" id="Ngv?O04%Oa)!;tHK~+9S"><value name="tile"><shadow type="tileset_tile_picker" id="@h@wZx8O5K+tvh{U!Oot"><field name="tile">myTiles.tile18</field></shadow></value></block></value><value name="INDEX"><shadow type="math_number" id="ML,BT.Q03YRmKMg.N?)4"><field name="NUM">0</field></shadow></value></block></value><next><block type="Sprite_blockCombine_set" id="t4V$?soe*wx.PRsBGCBL"><field name="property">Sprite.x@set</field><value name="mySprite"><block type="variables_get" id="UAacUPZmFmBB3J^FO(s`"><field name="VAR" id="UV^as+GduR[Z@^n9e#YV">octopus</field></block></value><value name="value"><block type="typescript_expression" id="dKVS#.BT0xJO9(CESHS`" editable="false"><field name="EXPRESSION">octopusPosition.x = octopusSpawnTile.x</field></block></value><next><block type="Sprite_blockCombine_set" id="?=F~IT/iv#R-e$|?#OE@"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get" id="$^cni)[qp{FG^4Fy@1im"><field name="VAR" id="UV^as+GduR[Z@^n9e#YV">octopus</field></block></value><value name="value"><block type="typescript_expression" id="ZvgVBUm~o72Us(F1=A-]" editable="false"><field name="EXPRESSION">octopusPosition.y = octopusSpawnTile.y</field></block></value><next><block type="mapsettileat" id="3]nq#*Xe_:cBoPsI(Y|F"><value name="tile"><shadow type="tileset_tile_picker" id="(XR(KVRI_,.brd_]!mhK"><field name="tile">myTiles.tile2</field></shadow></value><value name="loc"><shadow type="mapgettile"/><block type="variables_get" id="*Pn;;m_T_;u{:*}-:]0p"><field name="VAR" id="!w!%#{Q)CPMJp.DPRiWQ">octopusSpawnTile</field></block></value><next><block type="variables_set" id="J:8F*3H.vlwe}WL9$u0t"><field name="VAR" id="78s[YN|9lQ{RI_P|.4A$">sharkSpawnTile</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="t`+hW[|JBX.OtW#Z*(a*"><value name="LIST"><block type="mapgettilestype" id="L_Et+Z|D@AOf)X3q-3ik"><value name="tile"><shadow type="tileset_tile_picker" id="{jvugy2wiOo4x6[.lHd-"><field name="tile">myTiles.tile19</field></shadow></value></block></value><value name="INDEX"><shadow type="math_number" id="?=P,+qm|8K!FZyWldwr_"><field name="NUM">0</field></shadow></value></block></value><next><block type="Sprite_blockCombine_set" id="K1MzQ=%o%!,T-;},sIFt"><field name="property">Sprite.x@set</field><value name="mySprite"><block type="variables_get" id="]$u1[C4eM5Tnq%vX+$s7"><field name="VAR" id="LTD!M$rRBM^{=1^qZ4+w">shark</field></block></value><value name="value"><block type="typescript_expression" id="}NcSd-!P*qEuk]j0`z1E" editable="false"><field name="EXPRESSION">sharkPosition.x = sharkSpawnTile.x</field></block></value><next><block type="Sprite_blockCombine_set" id="@RqjN|[^RCwt3-W+L#gt"><field name="property">Sprite.y@set</field><value name="mySprite"><block type="variables_get" id="VCvh^F`4633}QN?SX{Nf"><field name="VAR" id="LTD!M$rRBM^{=1^qZ4+w">shark</field></block></value><value name="value"><block type="typescript_expression" id="5kg}}l|=S/+#ay6F~Ff$" editable="false"><field name="EXPRESSION">sharkPosition.y = sharkSpawnTile.y</field></block></value><next><block type="mapsettileat" id="R{*5Y^B.^ct#qAzRFu[f"><value name="tile"><shadow type="tileset_tile_picker" id="le7d%Ux[9XX_^{Y%(0^-"><field name="tile">myTiles.tile2</field></shadow></value><value name="loc"><shadow type="mapgettile"/><block type="variables_get" id="/39pQ{ki[#=n-K)a6{Pk"><field name="VAR" id="78s[YN|9lQ{RI_P|.4A$">sharkSpawnTile</field></block></value><next><block type="typescript_statement" id="TEzp=ny~I$hNhoL]{1X+" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let sharkTargetTile = new HelperClasses.Point();" numlines="1" declaredvars="sharkTargetTile"></mutation><next><block type="typescript_statement" id="RxB4zrRosu]d(Ol*9@Yw" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function positionToTile(position: number, tileSize: number): number {" line1="    return Math.floor(position / tileSize);" line2="}" numlines="3"></mutation><next><block type="typescript_statement" id="`P{rbAL=e~r1pv]hVZ2`" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function isWaterTile(tileImage: Image): boolean {" line1="    if (tileImage == myTiles.tile2 ||" line2="        tileImage == myTiles.tile3 ||" line3="        tileImage == myTiles.tile5 ||" line4="        tileImage == myTiles.tile7 ||" line5="        tileImage == myTiles.tile8 ||" line6="        tileImage == myTiles.tile9 ||" line7="        tileImage == myTiles.tile10 ||" line8="        tileImage == myTiles.tile11 ||" line9="        tileImage == myTiles.tile12 ||" line10="        tileImage == myTiles.tile13 ||" line11="        tileImage == myTiles.tile14 ||" line12="        tileImage == myTiles.tile15 ||" line13="        tileImage == myTiles.tile16) {" line14="        return true" line15="    }" line16="    return false" line17="}" numlines="18"></mutation><next><block type="typescript_statement" id="8,um]I%t~~],vVZ@dkx1" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function isLandTile(tileImage: Image): boolean {" line1="    if (tileImage == myTiles.tile4) {" line2="        return true" line3="    }" line4="    return false" line5="}" numlines="6"></mutation><next><block type="typescript_statement" id="(Tm~]g.jM,^f,gAq/.b8" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function checkLandBoundsCollision(character: Sprite, lastPosition: HelperClasses.Point): HelperClasses.Point {" line1="    let newTile: Image = tiles.getTileAt(positionToTile(character.x, tileSize), positionToTile(character.y, tileSize))" line2="    if (lastPosition.tile == null) {" line3="        lastPosition.tile = newTile" line4="    }" line5="" line6="    if (isLandTile(newTile) &amp;&amp; isWaterTile(lastPosition.tile) ||" line7="        isWaterTile(newTile) &amp;&amp; isLandTile(lastPosition.tile)) {" line8="        //todo: determine whether it's a horizontal or vertical collision and limit movement" line9="        //also need to check whether the other position change results in a tile collision, like in a corner" line10="        character.x = lastPosition.x" line11="        character.y = lastPosition.y" line12="        return lastPosition;" line13="    }" line14="    lastPosition.x = character.x" line15="    lastPosition.y = character.y" line16="    lastPosition.tile = newTile" line17="    return lastPosition" line18="}" numlines="19"></mutation><next><block type="typescript_statement" id="nl@R]2pAo[Eh-4*`CmE`" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function findOctopusMovePosition(octopusPosition: HelperClasses.Point, playerPosition: HelperClasses.Point, buffer: number): HelperClasses.Point {" line1="    let moveLeft: boolean = playerPosition.x &lt; octopusPosition.x - buffer" line2="    let moveRight: boolean = playerPosition.x &gt; octopusPosition.x + buffer" line3="    let moveUp: boolean = playerPosition.y &lt; octopusPosition.y - buffer" line4="    let moveDown: boolean = playerPosition.y &gt; octopusPosition.y + buffer" line5="    let moveRate: number = .4" line6="" line7="    if (moveLeft) {" line8="        octopusPosition.x -= moveRate" line9="    } else if (moveRight) {" line10="        octopusPosition.x += moveRate" line11="    }" line12="    if (moveUp) {" line13="        octopusPosition.y -= moveRate" line14="    } else if (moveDown) {" line15="        octopusPosition.y += moveRate" line16="    }" line17="    return octopusPosition" line18="}" numlines="19"></mutation><next><block type="typescript_statement" id="Af[V#t+m=lCag_~_hzIe" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function findSharkMovePosition(sharkPosition: HelperClasses.Point, seekPath: Array&lt;HelperClasses.PathPosition&gt;): HelperClasses.Point {" line1="" line2="    //need to keep track of tile position of player and only recalculate if the player has changed tiles" line3="" line4="    return sharkPosition" line5="}" numlines="6"></mutation><next><block type="typescript_statement" id=";(8[h}7Oj%PtL|KmXAfX" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function findSharkTargetTile(playerPosition: HelperClasses.Point): HelperClasses.Point {" line1="    let resultGridSpot = new HelperClasses.Point()" line2="    if (isWaterTile(playerPosition.tile)) {" line3="        resultGridSpot.y = playerPosition.y" line4="        resultGridSpot.x = playerPosition.x" line5="        return resultGridSpot" line6="    }" line7="    //todo: implement roaming" line8="" line9="    return resultGridSpot" line10="}" numlines="11"></mutation><next><block type="typescript_statement" id="[CG-}tVIUzJnBKDM-~,H" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function moveGameSprite(position: HelperClasses.Point, sprite: Sprite): void {" line1="    sprite.x = Math.floor(position.x)" line2="    sprite.y = Math.floor(position.y)" line3="}" numlines="4"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="spritesoverlap" id=".)gX9NjPyKEw{9c6/;U2" x="480" y="120"><value name="HANDLER_DRAG_PARAM_sprite"><shadow type="argument_reporter_custom" id="u[;1;PxxI=Q|{yrl9peV"><mutation typename="Sprite"/><field name="VALUE">sprite</field></shadow></value><value name="kind"><shadow type="spritekind" id="d0,2[9hYfzjIc(BJG7;."><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><shadow type="argument_reporter_custom" id="a%cj4V]Sd:`~M#V?QrE}"><mutation typename="Sprite"/><field name="VALUE">otherSprite</field></shadow></value><value name="otherKind"><shadow type="spritekind" id="52V^Mibw{!Y{Jz9@1VP5"><field name="MEMBER">Food</field></shadow></value><statement name="HANDLER"><block type="hudsetScore" id="W.8{sY%)Bu%Il97C`$4I"><value name="value"><block type="math_arithmetic" id="k@Am]$$K.eM^ybD,if^L"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="hudScore" id="%K_qyQKY9YvxU.a9c*J~"/></value><value name="B"><shadow type="math_number" id="EFHg;RUZ?gyRk7+*R/D5"><field name="NUM">1</field></shadow></value></block></value><next><block type="spritedestroy" id="H-/+YmLb~5YQ^lAl_RYp"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="sprite"><block type="argument_reporter_custom" id="+Nu4_+B`qsCv*|8G:ZE2"><mutation typename="Sprite"/><field name="VALUE">otherSprite</field></block></value></block></next></block></statement></block><block type="gameupdate" id="0Mdg24_(kWzU-V$Wz%^c" x="460" y="440"><statement name="HANDLER"><block type="typescript_statement" id="d_=Lh1,+{J4Db~nA;9u]" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="playerPosition = checkLandBoundsCollision(mySprite, playerPosition)" numlines="1"></mutation><next><block type="typescript_statement" id="ta%I?90`C8_%FY%@ZQnB" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="octopusPosition = findOctopusMovePosition(octopusPosition, playerPosition, hitBuffer)" numlines="1"></mutation><comment id="undefined" pinned="false" h="80" w="160">move octopus</comment><next><block type="typescript_statement" id="~5dIN)6ov*@=z8:Uy`}?" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="moveGameSprite(octopusPosition, octopus)" numlines="1"></mutation><next><block type="typescript_statement" id="~AKvLQSSKCM^,9J8=bfi" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sharkTargetTile = findSharkTargetTile(playerPosition)" numlines="1"></mutation><comment id="undefined" pinned="false" h="80" w="160">move shark</comment><next><block type="controls_if" id="E:M=bFOgvoKww{sai^4."><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="B)xK1OqI2|Ex~T3pjV$F"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=":}K8Ik}pglm`pNEcezDT"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="h]0+k39Yp#Dw]kn3Y{8F" editable="false"><field name="EXPRESSION">sharkTargetTile.getColumn()</field></block></value><value name="B"><shadow type="math_number" id="}VDDD(3Db@3D;POf?sO("><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="/9]AXpgrU.R$_{~|6cDu"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="a!7.S*P)Hyw?z`Uy5aYg" editable="false"><field name="EXPRESSION">sharkTargetTile.getRow()</field></block></value><value name="B"><shadow type="math_number" id="gRCnqp2k%Ky7o8RATzh|"><field name="NUM">0</field></shadow></value></block></value></block></value><statement name="DO0"><block type="controls_if" id="ctV)RZ*X-lP}Rt-|%660"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="GdGZ`E}SJV8hOO%^x`cD"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="lync3ut~in1Hkz)WD@[Y"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_length" id="2gau$}w*JhWwO+1tL}w)"><value name="VALUE"><block type="variables_get" id="Y?QUoE3iD_3jrW_%=uH/"><field name="VAR" id="#?g;wTEST-GwJJv#%CGJ">sharkSeekPath</field></block></value></block></value><value name="B"><shadow type="math_number" id="1IqUjL1cKpBM(+4X`:EG"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="qfu4|47J|=rg?K:sJ+y;"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="Z=SqE@2o~q_{`}g{7s[L" editable="false"><field name="EXPRESSION">(sharkTargetTile.equals(sharkSeekPath[sharkSeekPath.length - 1].point))</field></block></value></block></value></block></value></block></statement><next><block type="typescript_statement" id="Z@q,[!GKO_44zgr9$DoY" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sharkPosition = findSharkMovePosition(sharkPosition, sharkSeekPath)" numlines="1"></mutation><next><block type="typescript_statement" id="^E,AHkxOz2C,1x0Nw6q$" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="moveGameSprite(sharkPosition, shark)" numlines="1"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>